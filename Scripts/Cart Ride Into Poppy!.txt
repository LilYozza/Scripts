--Game Link:

local library = loadstring(game:HttpGet(('https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/UILibrary.txt')))()
local FullBright = loadstring(game:HttpGet('https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/FullBright.txt'))
local ESP = loadstring(game:HttpGet('https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/ESP.txt'))

local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local virtual = game:GetService("VirtualUser")

local PlayerList = {}
local PlayerSelect, CartSelect, OldCart
local SColor = BrickColor.new("Lime green")
local DColor = BrickColor.new("Neon orange")

local RollerCoaster=Workspace:FindFirstChild("RollerCoaster")
local Finish=Workspace:FindFirstChild("Finish")
local PathGivers=Finish:FindFirstChild("PathGivers")
local Carts=RollerCoaster:FindFirstChild("Carts")
local Interactive=RollerCoaster:FindFirstChild("Interactive")

local SpawnLocation=Workspace:FindFirstChild("SpawnLocation")
local Baseplate=Finish:FindFirstChild("Baseplate")

local w = library:CreateWindow("Main")
local Troll = w:CreateFolder("Troll")
local Other = w:CreateFolder("Other")
local Misc = w:CreateFolder("Misc")

local function SelectColor(p, color)for _,v in pairs(p:GetChildren()) do if v:IsA("Part")and v.Name=="Part" then v.BrickColor=color end end end
local function RemoveItem(t,i)if t then for _,v in pairs(t)do if v==i then table.remove(t,_) break end end end end
local function CreateTag(c, player)GUI = Instance.new("BillboardGui", player.Character:WaitForChild("Head")) GUI.StudsOffsetWorldSpace = Vector3.new(0,2.5,0) GUI.AlwaysOnTop = true GUI.Size = UDim2.new(3, 0, 1, 0) TextLabel = Instance.new("TextLabel", GUI) TextLabel.Text =  player.DisplayName TextLabel.BackgroundTransparency = 1 TextLabel.Font = "ArialBold" TextLabel.TextSize = 15 TextLabel.TextColor3 = c TextLabel.Size = UDim2.new(1,0,1,0) end
local function MoveTo(p,offset)Player.Character:WaitForChild("HumanoidRootPart").CFrame=p.CFrame+offset end

local DropList = Troll:Dropdown("Select Player",PlayerList,true,function(SItem)
    local s,e=pcall(function()
        if SItem=="All" then CartSelect="All" OldCart=CartSelect
            for _,v in pairs(Carts:GetChildren()) do SelectColor(v.Body, SColor) end 
        else 
            for _,v in pairs(Players:GetChildren()) do 
                if SItem==v.DisplayName then PlayerSelect=v break end end
            
            if PlayerSelect.Character:WaitForChild("Humanoid").SeatPart then
            CartSelect=PlayerSelect.Character:WaitForChild("Humanoid").SeatPart.Parent
            CartSelect.Name=PlayerSelect.Name end
            
            if OldCart and CartSelect then if OldCart=="All" then for _,v in pairs(Carts:GetChildren()) do SelectColor(v.Body, DColor) end end SelectColor(CartSelect.Body, DColor)end
            SelectColor(CartSelect.Body, SColor)OldCart=CartSelect
        end
    end) if not s then print("Error:",e)end
end)

local function onSeat(player)
    if player.Character:WaitForChild("Humanoid").sit and not table.find(PlayerList, player.DisplayName) then
        table.insert(PlayerList, player.DisplayName)
    else RemoveItem(PlayerList, player.DisplayName) end
    DropList:Refresh(PlayerList)
end

local function AddPlayer(player)
    if not table.find(PlayerList, player.DisplayName) and player.Character:WaitForChild("Humanoid").sit then
        table.insert(PlayerList, player.DisplayName)DropList:Refresh(PlayerList)
    end
    if not player.Character:WaitForChild("Head"):FindFirstChild("BillboardGui") then
    CreateTag((Color3.new(255, 0, 0)), player) end
end

local function RemovePlayer(player)
    if table.find(PlayerList,player.DisplayName) then
        RemoveItem(PlayerList, player.DisplayName)
        DropList:Refresh(PlayerList)
    end
end

Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function(character)AddPlayer(player)
    character:WaitForChild("Humanoid").Seated:Connect(function()onSeat(player)end)
    end)
end)
Players.PlayerRemoving:Connect(function(player)RemovePlayer(player)end) 

--Get Players
local function GetPlayers() table.insert(PlayerList,"All")
    for _,v in pairs(Players:GetChildren()) do
        if v.Character:WaitForChild("Humanoid").sit then table.insert(PlayerList, v.DisplayName)end
        v.Character:WaitForChild("Humanoid").Seated:Connect(function()onSeat(v)end)
        v.CharacterAdded:Connect(function()AddPlayer(v)end)
        if not v.Character:WaitForChild("Head"):FindFirstChild("BillboardGui") then
            CreateTag((Color3.new(255, 0, 0)), v)
        end
    end
    DropList:Refresh(PlayerList)
end GetPlayers()


Troll:Toggle("Speed Up",function(bool)
    shared.toggle1 = bool
    spawn (function()
        while shared.toggle1 do
            if CartSelect == "All" and shared.toggle1 then for _,v in pairs(Carts:GetChildren()) do fireclickdetector(v.Up.Click)end
            else if CartSelect then fireclickdetector(CartSelect.Up.Click)end end
        	task.wait()
        end
    end)
end)

Troll:Toggle("Speed Down",function(bool)
    shared.toggle1 = bool
    spawn (function()
        while shared.toggle1 do
            if CartSelect=="All" and shared.toggle1 then for _,v in pairs(Carts:GetChildren()) do fireclickdetector(v.Down.Click)end
            else if CartSelect then fireclickdetector(CartSelect.Down.Click)end end
        	task.wait()
        end
    end)
end)

Troll:Button("Break",function()
    spawn(function()
        if CartSelect=="All" then for _,v in pairs(Carts:GetChildren()) do fireclickdetector(v.On.Click)end
        else if CartSelect then fireclickdetector(CartSelect.On.Click)end end
    end)
end)

Troll:Button("Spawn",function()
    spawn(function()
        fireproximityprompt(Interactive:FindFirstChild("1").ProximityPrompt)fireproximityprompt(Interactive:FindFirstChild("2").ProximityPrompt)
    end)
end)

Troll:Button("Refresh",function()
    spawn(function()
        for _,v in pairs(Players:GetChildren())do
            if not table.find(PlayerList, v.DisplayName) and v.character:WaitForChild("Humanoid").sit then
                table.insert(PlayerList, v.DisplayName)
            end
        end
    end)
end)

Other:Button("Give Items",function()
    spawn(function()
        for _,v in pairs(PathGivers:GetChildren()) do
            if v:FindFirstChild("Giver") then fireproximityprompt(v.Giver.ProximityPrompt)end
        end
    end)
end)

Other:Button("Teleport Start",function()
    spawn(function()MoveTo(SpawnLocation,Vector3.new(0,6,0))end)
end)

Other:Button("Teleport End",function()
    spawn(function()MoveTo(Baseplate,Vector3.new(0,6,0))end)
end)

Misc:Toggle("Anti AFK",function(bool)
    shared.Misc1 = bool
    spawn (function()
        if shared.Misc1 then
            game:GetService("Players").LocalPlayer.Idled:connect(function()
            virtual:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
            wait(1)
            virtual:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
            end)
        end
    end)
end)

Misc:Toggle("Full Bright",function(bool)
    shared.Misc2 = bool
    spawn (function()
        FullBright()
    end)
end)

Misc:Toggle("Infinite Jump",function(bool)
    shared.Misc3 = bool
    spawn (function()
        game:GetService("UserInputService").JumpRequest:Connect(function()
            if shared.Misc3 then
                Player.character:WaitForChild("Humanoid"):ChangeState("Jumping")
            end
        end)
    end)
end)

Misc:Toggle("Teleport",function(bool)
    shared.Misc4 = bool
    spawn(function()
        local mouse = Player:GetMouse()
        mouse.KeyDown:Connect(function(key)
            if key == "q" and shared.Misc4 then
                if mouse.Target then
                    Player.character:WaitForChild("HumanoidRootPart").CFrame = CFrame.new(mouse.Hit.x, mouse.Hit.y + 5, mouse.Hit.z)
                end
            end
        end)
    end)
end)

local Speed = Misc:Slider("Slider",{
    ['default'] = 16;
    ['min'] = 0;
    ['max'] = 100;
    ['precise'] = true;
},function(value)
    game:GetService("Players").LocalPlayer.Character.Humanoid.WalkSpeed = value
    local Players = game:GetService("Players")
end)

Misc:Button("3rd Person",function()
    game:GetService('Players').LocalPlayer.CameraMode = 'Classic'
    Player.CameraMaxZoomDistance = 150
    Player.CameraMinZoomDistance = 0
end)

Misc:Button("ESP",function()
    ESP()
end)

Misc:DestroyGui()
