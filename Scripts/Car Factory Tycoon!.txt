local library = loadstring(game:HttpGet(('https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/UILibrary.txt')))()w = library:CreateWindow("Main")

local Players=game:GetService("Players")
local Player=game.Players.LocalPlayer

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local MaterialService = ReplicatedStorage.Packages.Knit.Services.MaterialService
local TycoonService = ReplicatedStorage.Packages.Knit.Services.TycoonService

local Auto = w:CreateFolder("Auto")

-->Base Variables<--
local Tycoon
local Tycoons = Workspace:FindFirstChild("Tycoons")

-->Getting Data<--
local function GetTycoon()
    for _,v in pairs(Tycoons:GetChildren())do
        local _Owner = v:FindFirstChild("Owner")
        if _Owner and _Owner.Value == Player then
            Tycoon = v
        end
    end
end

repeat task.wait()GetTycoon()until Tycoon

-->Non Return Functions<--
local function Touch(p,t)firetouchinterest(Player.Character:WaitForChild("HumanoidRootPart"),p,0)firetouchinterest(Player.Character:WaitForChild("HumanoidRootPart"),p,1)task.wait(t)end
local function MoveTo(p,offset)Player.Character:WaitForChild("HumanoidRootPart").CFrame=p.CFrame+offset end

-->Return Functions<--
local function fromSuffixString(s) local suffixes = {"K", "M", "B", "T", "Q"} found = false if s == "0" then return 0 end if s:match("$") then s = string.gsub(s, '%$', "") end if s:match(",") then s = string.gsub(s, '%,', "") end if s:match("+") then s = string.gsub(s, '%+', "") end for i, value in ipairs(suffixes) do if s:match(value) then found = true end end if found == false then return tonumber(s) end local n, suffix = string.match(s, "(.*)(%a)$") if n and suffix then local i = table.find(suffixes, suffix) or 0 return tonumber(n) * math.pow(10, i * 3) end return tonumber(s) end

-->Post Variables<--
local Model = Tycoon:FindFirstChild("Model")
local Buttons = Model:FindFirstChild("Buttons")
local Lines = Model:FindFirstChild("Lines")
local ParkedCars = Model:FindFirstChild("ParkedCars")

-->Player Data<--
local PlayerGui = Player.PlayerGui
local _Main = PlayerGui.HUD.Main
local PCash = _Main.Top.Cash.Amount
local PGems = _Main.Top.Gems.Amount

Auto:Toggle("Auto Refill",function(bool)
    shared.ToggleAR=bool
    spawn(function()
        while shared.ToggleAR do
        local s,e = pcall(function()
            for _,v in pairs(Lines:GetChildren())do
                local _DropOffBox = v:FindFirstChild("DropoffBox")
                if _DropOffBox then
                    local _DropoffGui = _DropOffBox.RootPart:FindFirstChild("DropoffGui")
                    if _DropoffGui then
                        for __,_v in pairs(_DropoffGui:GetChildren())do
                            if _v:IsA("TextLabel") then
                                local _Material = _v.Name
                                local _text = _v.Text:split(": ")[2]:gsub(" ", "")
                                if tonumber(_text:split("/")[1]) < tonumber(_text:split("/")[2]) then
                                    MaterialService.RF.Collect:InvokeServer(_Material)task.wait()
                                    MaterialService.RF.Drop:InvokeServer(v)
                                end
                            end
                        end
                    end
                end
            end
            task.wait()
        end)if not s then print(e)end task.wait()    
        end
    end)
end)

Auto:Toggle("Auto Sell",function(bool)
    shared.ToggleAS=bool
    spawn(function()
        while shared.ToggleAS do
            for _,v in pairs(ParkedCars:GetChildren())do
                if v:FindFirstChild("NPC") and v.NPC.Value then
                    TycoonService.RF.AcceptBid:InvokeServer(v.NPC.Value, math.random(1,3)) task.wait(1)
                end
            end
            task.wait()
        end
    end)
end)

Auto:Toggle("Auto Farm",function(bool)
    shared.ToggleAF=bool
    spawn(function()
        while shared.ToggleAF do
            for _,v in pairs(Lines:GetChildren())do
                TycoonService.RF.SpawnCarSegment:InvokeServer(v.Name)
            end
            task.wait(1)
        end
    end)
end)

Auto:Toggle("Auto Buy",function(bool)
    shared.ToggleAB=bool
    spawn(function()
        while shared.ToggleAB do
        local s,e = pcall(function()
            for _,v in pairs(Buttons:GetChildren())do
                local _pad = v:FindFirstChild("Pad")
                if _pad and _pad.Transparency == 0 then
                    local _price = _pad.InfoGui.CostBox.Cost.Text
                    if _price:match("FREE") then _price = "0" end
                    if _price:match("GEMs") then _price = "9999999999" end
                    if _price:match("> ") and _price:match("</") then  _price = _price:split("> ")[2]:split("</")[1] end
                    --print( fromSuffixString(_price), fromSuffixString(PCash.Text))
                    if fromSuffixString(_price) <= fromSuffixString(PCash.Text) then
                        Touch(_pad, 1)
                    end
                end
            end
            task.wait()
        end)if not s then print(e)end task.wait()
        end
    end)
end)

Auto:Toggle("Auto",function(bool)
    shared.Toggle=bool
    spawn(function()
        while shared.Toggle do

            task.wait()
        end
    end)
end)

--loadstring(game:HttpGet("https://raw.githubusercontent.com/Cxetive/OptixHub/main/loader.lua"))()


local Miscload = loadstring(game:HttpGet('https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/Misc.txt'))()
