

local Players=game:GetService("Players")
local Player=game.Players.LocalPlayer

local Auto = w:CreateFolder("Auto")

-->Base Variables<--
local dboucne = false
local Checkpoints = Workspace:FindFirstChild("Checkpoints")
local PStage = Player:FindFirstChild("RealStage")
local tempStage = Player:FindFirstChild("Stage")

local CheckpointTable = Checkpoints:GetChildren()

-->Non Return Functions<--

-->Return Functions<--
local function createPart(_type, _args)
    local newPart = Instance.new(_type)
    for _,v in pairs(_args) do
        newPart[_] = v
    end
    return newPart
end

Auto:Button("Skip",function()
    spawn(function()
        MoveTo(Checkpoints[PStage.Value + 1], Vector3.new(0,5,0))
    end)
end)


Auto:Toggle("Auto Win",function(bool)
    shared.ToggleAW=bool
    spawn(function()
        while shared.ToggleAW do
            Touch(Checkpoints[PStage.Value + 1], 0.3)
            task.wait()
        end
    end)
end)

Auto:Toggle("Auto Rebirth",function(bool)
    shared.ToggleAR=bool
    spawn(function()
        while shared.ToggleAR do
            
            task.wait()
        end
    end)
end)



Auto:Toggle("Faster Repsawn",function(bool)
    shared.ToggleFR=bool
    spawn(function()
        local rsp = Workspace:FindFirstChild("respawnPart")
        if shared.ToggleFR then
            if not rsp then
                --Create path with touch connect
                rsp = createPart("Part",{
                    Name = "respawnPart",
                    Parent = Workspace,
                    Position = Vector3.new(0,-26,0),
                    Size = Vector3.new(5000, 1, 5000),
                    Transparency = 1,
                    Anchored = true,
                    CanCollide = true
                })

                rsp.Touched:Connect(function(hit)
                    if hit:IsDescendantOf(character) and not dbounce then
                        dbounce = true
                        MoveTo(Checkpoints[PStage.Value], Vector3.new(0,5,0))
                        task.wait(1)
                        dbounce = false
                    end
                end)

            end
        else
            if rsp then rsp:Destroy() end
        end
    end)
end)

Auto:Button("Next",function()
    spawn(function()
        local _curr = GetClosestPart(CheckpointTable)
        MoveTo(Checkpoints[tonumber(_curr.Name) + 1], Vector3.new(0,5,0))
    end)
end)

Auto:Button("Current",function()
    spawn(function()
        MoveTo(Checkpoints[PStage.Value], Vector3.new(0,5,0))
    end)
end)

Auto:Button("Previous",function()
    spawn(function()
        local _curr = GetClosestPart(CheckpointTable)
        MoveTo(Checkpoints[tonumber(_curr.Name) - 1], Vector3.new(0,5,0))
    end)
end)





