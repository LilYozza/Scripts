local SaveDataManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/LilYozza/Scripts/refs/heads/main/Misc/SaveManager.txt"))()

w = library:CreateWindow("Main")
local Auto = w:CreateFolder("Auto")
local RaidMenu = w:CreateFolder("Raid/Dungeon")
local GachaMenu = w:CreateFolder("Gachas")
local UpgradeMenu = w:CreateFolder("Upgrades")
local ShopMenu = w:CreateFolder("Shop")
local DailyMenu = w:CreateFolder("Dailies")
local StarsMenu = w:CreateFolder("Stars")
local StatsMenu = w:CreateFolder("Stats")
--local ExchangeMenu = w:CreateFolder("Exhange")
local ChestMenu = w:CreateFolder("Chests")
local WebhookMenu = w:CreateFolder("Webhook")

print("v4.2")

local sGachaAmount = 5
local questAmount = 50000

local dataToSave = {}
local WH_webhookLink -- "shared.WH_webhookLink"
local WH_bestGacha = false
local WH_questComplete = false

local Players=game:GetService("Players")
local Player=Players.LocalPlayer
local rs = game:GetService("ReplicatedStorage")

local PGui = Player.PlayerGui
-->Base Variables<--
local defaultDungeons = { "Leaf_Raid", "Dungeon_Easy", "Dungeon_Medium", "Dungeon_Hard", "Dungeon_Insane", "Dungeon_Crazy", "Dungeon_Nightmare"}

local CODES = {"Update30P4", "Update30P4Code", "ChristmasToday!", "MerryChristmas!", "MerryChristmas!2", "Update30P3", "Update30P3Code", "ChristmasPart2or3?", "Part3ChristmasOR2?", "800KFav", "Update30Late3", "Update30P2", "415KLikes", "795KFav", "Update30P2Code", "280MVisits", "Update30P2Super", "Update30Late", "Update30", "790KFav", "Update30Code2", "Update30Code3", "275MVisits",  "Update30Code", "Update30Late2", "Update29P3", "Update29P3Code", "Update29P3Code2", "ChristmasPart1?", "ChristmasPart1!", "410KLikes", "SuperUPD29Code", "Update29P2", "Update29P2Code", "IsChristmasComing?!", "Update29P2Code2", "785KFav", "Update29", "Update29Code", "270MVisits", "Update29Code2", "Update29Code3", "ChristmasSoon?!", "Update29RestartCode", "SlashX","Derp","Heyyyo","JosephR","Update27","400KLikes","760KFav","NoThanksgivingCode","Update27Code","Update27Delay","Update27Restart","Update27HeroKey","Update27P2","765KFav","770KFav","Update27P2Code","255MVisits","NoThanksgivingCode2","Update28","Update28Code","775KFav","260MVisits","Update28P2","405Klikes","265MVisits","Update28P3","Update28P2Code","Update28P2Code2","Update28P2Code3","780KFav","Update28P3Code","Update28P3Code2"}

local gameData = {
    [0] = {
        world = {
            name = "Dungeon_Lobby",
            raids = {
                ["Dungeon_Labyrinth"] = {
                    key = {type = 1, id = 15},
                    list = {"Common Labyrinth Power", "Uncommon Labyrinth Power", "Rare Labyrinth Power", "Epic Labyrinth Power", "Legendary Labyrinth Power", "Mythical Labyrinth Power", "Phantom Labyrinth Power", "Supreme Labyrinth Power"}
                },
                ["Running_Track_Raid"] = {
                    key = {type = 1, id = 14, limit = 1},
                    drops = { "Running Track Coin" }
                },
            },
            gachaTable = {
                ["Power_of_Stars"] = {
                    token = "Exchange Coin",
                    list = { "Power of Stars I", "Power of Stars II", "Power of Stars III", "Power of Stars IV", "Power of Stars V", "Power of Stars VI", "Power of Stars VII", "Power of Stars VIII" }
                }
            },
            upgradeTable = {
                ["Running_Track_Progression"] = { token = "Running Track Coin" },
                ["Star_Luck"] = {token = "Coins", Upgrading_Name = "Upgrades"},
                ["Damage"] = {token = "Coins", Upgrading_Name = "Upgrades"},
                ["Energy"] = {token = "Coins", Upgrading_Name = "Upgrades"},
                ["Coins"] = {token = "Coins", Upgrading_Name = "Upgrades"},
                ["Drops"] = {token = "Coins", Upgrading_Name = "Upgrades"},
                ["Avatar_Soul_Drop"] = {token = "Coins", Upgrading_Name = "Upgrades"},
                ["Movement_Speed"] = {token = "Coins", Upgrading_Name = "Upgrades"},
                ["Fast_Roll"] = {token = "Coins", Upgrading_Name = "Upgrades"},
                ["Star_Speed"] = {token = "Coins", Upgrading_Name = "Upgrades"},
                ["Critical_Energy"] = {token = "Coins", Upgrading_Name = "Upgrades"},
                ["Energy_Critical_Chance"] = {token = "Coins", Upgrading_Name = "Upgrades"},
                ["Exp"] = {token = "Coins", Upgrading_Name = "Upgrades"},
            },
        },
        enemies = {

        }
    },
    [100] = {
        world = {
            name = "Dungeon_Lobby_2",
            raids = {
                ["Green_Planet_Raid"] = {
                    key = {type = 2, id = 1},
                    list = { "Eternal Dragon" },
                    drops = { "Eternal Dragon Token", " Saiyan Lvl Token", "Grand Elder Token", "Frost Demon Token", "Dragon Race Lvl Token", "Obelisk Coin" }
                },
                ["Mundo_Raid"] = {
                    key = {type = 2, id = 2},
                },
                ["Hollow_Raid"] = {
                    key = {type = 2, id = 4, limit = 8},
                },
                ["Dungeon_Suffering"] = {
                    key = {type = 2, id = 3, limit = 8},
                    list = { "Power of Suffering" }
                },
                ["Dungeon_Adventurer"] = {
                    key = {type = 2, id = 6, limit = 15},
                }, -- RUNE BOX 1
                ["Dungeon_Torment"] = {
                    key = {type = 2, id = 7},
                }, -- RUN BOX 2
                ["Maze_Level_1"] = {
                    key = {type = 2, id = 8, limit = 150},
                    list = { "Common Maze Power" }
                }, -- RUN BOX 3
                ["Maze_Level_2"] = {},
                ["Maze_Level_3"] = {},
                ["Maze_Level_4"] = {},
                
            },
            gachaTable = {},
            upgradeTable = {},
        },
        enemies = {

        }
    },
    [101] = {
        world = {
            name = "Halloween_Event_World",
            raids = {
                ["Halloween_Raid"] = {},
                ["Graveyard_Defense"] = {},
            },
            gachaTable = {
            },
            upgradeTable = {}
        },
        enemies = {
            { name = 'Carrotto', tokens = {}, drops = {"Candy Aura"}},
            { name = 'Evil_Bald_Man', tokens = {}, drops = {"Pumpkin Aura"}},
            { name = 'Pumpkinado', tokens = {}, drops = {"Plague Aura"}},
            { name = 'Bald_Warlock', tokens = {}, drops = {"Spookweb Aura"}}, 
            { name = 'Spook-suke', tokens = {}, drops = {"Overdrive Saw", "Demonflame Aura"}}, 
        }
    },
    [102] = {
        world = {
            name = "Christmas_Event_World",
            raids = {
                ["Ice_Raid"] = {
                    rewards = {"Frostbittne", "Snowbound", "Glacier-Touched", "Whiteclaw", "Avalanche-Born", "Permafrost Warden", "Elder Yeti", "Frostbound Deity", "Absolute Zero"}
                },
                ["Santa_Raid"] = {
                    rewards = {"Titan Claus", "Ironbeard Noel", "Frosthammer Santa", "Redcloak Colossus", "Northstar Juggernaut", "Yulebreaker", "Polar Might Santa", "Kringle the Unyielding", "Snowfist Claus"}
                }
            },
            gachaTable = {
                ["Christmas_Glove"] = {
                    token = "Candy Cane",
                    list = {"Common Christmas Glove", "Uncommon Christmas Glove", "Rare Christmas Glove", "Epic Christmas Glove", "Legendary Christmas Glove", "Mythical Christmas Glove", "Phantom Christmas Glove", "Supreme Christmas Glove", "Exotic Christmas Glove"}
                }
            },
            upgradeTable = {
                ["Christmas_Damage_Upgrade"] = {token = "Winter Glove", Upgrading_Name = "Christmas_Damage", bench = true},
                ["Christmas_Damage_Upgrade_2"] = {token = "Winter Glove", Upgrading_Name = "Christmas_Damage", bench = true},
                ["Christmas_Damage_Upgrade_3"] = {token = "Gingerbread", Upgrading_Name = "Christmas_Damage", bench = true},
                ["Christmas_Damage_Upgrade_4"] = {token = "Snowman", Upgrading_Name = "Christmas_Damage", bench = true},
                ["Christmas_Materials_Upgrade"] = {token = "Candy Cane", Upgrading_Name = "Christmas_Materials", bench = true}
            }
        },
        enemies = {
        }
    },
    [1] = {
        world = {
            name = "Earth_City",
            raids = {
                ["Tournament_Raid"] = {
                    key = {type = 1, id = 1}
                },
            },
            gachaTable = {
                ["Dragon_Race"] = { 
                    token = "Dragon Race Token", 
                    list = { "Human", "Android", "Namekian", "Frost Demon", "Majin", "Half-Saiyan", "Saiyan" }
                },
                ["Saiyan_Evolution"] = { 
                    token = "Saiyan Token", 
                    list = { "Great Ape", "Super Saiyan Grad 1", "Super Saiyan Grad 1", "Super Saiyan Grad 1", "Full Power Super Saiyan", "Super Saiyan 2", "Super Saiyan 3" }
                }
            },
            upgradeTable = {
            }
        },
        enemies = {
            { name = 'Kriluni', tokens = {"Dragon Race Token"}}, 
            { name = 'Ymicha', tokens = {"Dragon Race Token"}}, 
            { name = 'Tian_Shan', tokens = {"Dragon Race Token"}}, 
            { name = 'Kohan', tokens = {"Dragon Race Token"}}, 
            { name = 'Picco', tokens = {"Saiyan Token"}}, 
            { name = 'Koku', tokens = {"Saiyan Token"}}, 
            { name = 'Kid_Kohan', tokens = {"Dragon Race Token", "Saiyan Token"}, type = "boss"}, 
        }
    },
    [2] = {
        world = {
            name = "Windmill_Island",
            raids = {
                ["Restaurant_Raid"] = {
                    key = {type = 1, id = 2, limit = 6},
                    list = {"Common Chef", "Uncommon Chef", "Rare Chef", "Epic Chef", "Legendary Chef", "Mythical Chef", "Phantom Chef"}
                }
            },
            gachaTable = {
                ["Pirate_Crew"] = { 
                    token = "Pirate Crew Token",
                    list = { "Whitebeard Pirates", "Cross Guild", "Big Mom Pirates", "Beast Pirates", "Blackbeard Pirates", "Straw Hat Pirates" }
                },
                ["Demon_Fruits"] = { 
                    token = "Demon Fruit Token",
                    list = { "Bomb Fruit", "Rubber Fruit", "Sand Fruit", "Flame Fruit", "Smoke Fruit", "Magma Fruit", "Revive Fruit", "String Fruit", "Human Fruit", "Dark Fruit", "Quake Fruit", "Money Fruit", "Dough Fruit", "Phoenix Fruit" }
                }
            },
            upgradeTable = {
                ["Haki_Upgrade"] = { token = "Haki Token" }
            },
            weaponTable = {
                ["Swords"] = { 
                    token = "Sword Token",
                    list = { "Bloodthorn", "Eclipse Warden", "Obsidian Reaver", "Aquarius Edge", "Doomsoul", "Redmourne", "Venomstrike" }
                },
            }
        },
        enemies = {
            { name = 'Nomi', tokens = {"Pirate Crew Token", "Sword Token", "Haki Token"}}, 
            { name = 'Usup', tokens = {"Pirate Crew Token", "Sword Token", "Haki Token"}}, 
            { name = 'Robins', tokens = {"Pirate Crew Token", "Sword Token", "Haki Token"}}, 
            { name = 'Senji', tokens = {"Pirate Crew Token", "Sword Token", "Haki Token"}}, 
            { name = 'Zaro', tokens = {"Demon Fruit Token", "Sword Token", "Haki Token"}}, 
            { name = 'Loffy', tokens = {"Demon Fruit Token", "Sword Token", "Haki Token"}}, 
            { name = 'Shanks', tokens = {"Pirate Crew Token", "Demon Fruit Token", "Haki Token"}, type = "boss"},
        }
    },
    [3] = {
        world = {
            name = "Soul_Society",
            raids = {},
            gachaTable = {
                ["Reiatsu_Color"] = { 
                    token = "Reiatsu Token",
                    list = { "Gray Reiatsu", "Green Reiatsu", "Blue Reiatsu", "Pink Reiatsu", "Yellow Reiatsu", "Red Reiatsu", "Black Reiatsu" }
                },
                ["Zanpakuto"] = { 
                    token = "Zanpakuto Token",
                    list = { "Suzumebachi", "Zabimaru", "Ashisogi Jizo", "Senbonzakura", "Nozarashi", "Hyorimaru", "Zangetsu" }
                }
            },
            upgradeTable = {
                ["Spiritual_Pressure"] = { token = "Pressure Token" }
            }
        },
        enemies = {
            { name = 'Hime', tokens = {"Reiatsu Token", "Pressure Token"}}, 
            { name = 'Ichige', tokens = {"Reiatsu Token", "Pressure Token"}},
            { name = 'Uryua', tokens = {"Reiatsu Token", "Pressure Token"}}, 
            { name = 'Rakiu', tokens = {"Reiatsu Token", "Pressure Token"}}, 
            { name = 'Yoichi', tokens = {"Zanpakuto Token", "Pressure Token"}}, 
            { name = 'Kahara', tokens = {"Zanpakuto Token", "Pressure Token"}}, 
            { name = 'Eizen', tokens = {"Zanpakuto Token", "Reiatsu Token", "Pressure Token"}, type = "boss"}, 
        }
    },
    [4] = {
        world = {
            name = "Cursed_School",
            raids = {
                ["Cursed_Raid"] = {
                    key = {type = 1, id = 10, limit = 6},
                    list = {"Common Curse", "Uncommon Curse", "Rare Curse", "Epic Curse", "Legendary Curse", "Mythical Curse", "Phantom Curse"} 
                }
            },
            gachaTable = {
                ["Curses"] = { 
                    token = "Cursed Token",
                    list = { "Bazing Catedyan", "Nullborn Phantom", "Informal Crater", "Abyssal Tide", "Verdant Calamity", "Soulbender", "Wandered Mind" }
                }
            },
            upgradeTable = {
                ["Cursed_Progression"] = { token = "Cursed Finger" }
            }
        },
        enemies = {
            { name = 'Itodo', tokens = {"Cursed Token", "Cursed Finger"}}, 
            { name = 'Nebara', tokens = {"Cursed Token", "Cursed Finger"}}, 
            { name = 'Magum', tokens = {"Cursed Token", "Cursed Finger"}}, 
            { name = 'Meki', tokens = {"Cursed Token", "Cursed Finger"}},
            { name = 'Tage', tokens = {"Cursed Token", "Cursed Finger"}}, 
            { name = 'Gajo', tokens = {"Cursed Token", "Cursed Finger"}}, 
            { name = 'Sakuni', tokens = {"Cursed Token", "Cursed Finger"}, type = "boss"}, 
        }
    },
    [5] = {
        world = {
            name = "Slayer_Village",
            raids = {
                ["Breathing_Raid"] = {
                    rewards = {"Shallow Breath", "Uneven Breath", "Basic Breath Control", "Steady Breath", "Deep Breath", "Focused Breath", "Total Breathing", "Perfect Breathing"}
                }
            },
            gachaTable = {
                ["Demon_Arts"] = { 
                    token = "Demon Arts Token",
                    list = { "Dream Manipulation", "Blood Scythes", "Vase Teleportation", "Emotion Splitting", "Destructive Death", "Cryokinesis", "Blood Control" }
                }
            },
            upgradeTable = {
                ["Slayer_Energy_Progression"] = {token = "Exchange Coin", Upgrading_Name = "Energy", bench = true}
            }
        },
        enemies = {
            { name = 'Nazuki', tokens = {"Breathing Token"}},
            { name = 'Tenjaro', tokens = {"Breathing Token"}},
            { name = 'Zentsu', tokens = {"Breathing Token"}}, 
            { name = 'Insake', tokens = {"Breathing Token"}}, 
            { name = 'Tamoka', tokens = {"Demon Arts Token"}}, 
            { name = 'Shinabe', tokens = {"Demon Arts Token"}}, 
            { name = 'Rangaki', tokens = {"Demon Arts Token", "Breathing Token"}, type = "boss"}, 
        }
    },
    [6] = {
        world = {
            name = "Solo_Island",
            raids = {},
            gachaTable = {
                ["Solo_Hunter_Rank"] = { 
                    token = "Hunter Rank Token",
                    list = { "E Rank", "D Rank", "C Rank", "B Rank", "A Rank", "S Rank", "National Level Hunter" }
                }
            },
            upgradeTable = {
                ["ReAwakening_Progression"] = { token = "ReAwakening Token" },
                ["Monarch_Progression"] = { token = "Monarch Token" },
            }
        },
        enemies = {
            { name = 'Weak_Sung', tokens = {"Hunter Rank Token"}}, 
            { name = 'Green_Goblin', tokens = {"Hunter Rank Token"}},
            { name = 'White_Tiger', tokens = {"Hunter Rank Token"}},
            { name = 'Cha', tokens = {"Hunter Rank Token", "ReAwakening Token"}}, 
            { name = 'Choi', tokens = {"Hunter Rank Token", "ReAwakening Token", "Monarch Token"}}, 
            { name = 'Solo_Sung', tokens = {"Hunter Rank Token", "ReAwakening Token", "Monarch Token"}}, 
            { name = 'Statue_of_God', tokens = {"Hunter Rank Token", "ReAwakening Token", "Monarch Token"}, type = "boss"}, 
        }
    },
    [7] = {
        world = {
            name = "Clover_Village",
            raids = {},
            gachaTable = {
                ["Grimoire"] = { 
                    token = "Grimoire Token",
                    list = { "Water Grimoire", "Fire Grimoire", "Wind Grimoire", "Dark Grimoire", "Light Grimoire", "Anti-Magic Grimoire", "Time Magic Grimoire" }
                }
            },
            upgradeTable = {
                ["Water_Spirit_Progression"] = { token = "Water Spirit Token" },
                ["Wind_Spirit_Progression"] = { token = "Wind Spirit Token" },
                ["Fire_Spirit_Progression"] = { token = "Fire Spirit Token" }
            }
        },
        enemies = {
            { name = 'Noalle', tokens = {"Water Spirit Token"}}, 
            { name = 'Megna', tokens = {"Water Spirit Token"}}, 
            { name = 'Finrel', tokens = {"Wind Spirit Token"}},
            { name = 'Aste', tokens = {"Wind Spirit Token"}}, 
            { name = 'Yune', tokens = {"Grimoire Token"}}, 
            { name = 'Yemi', tokens = {"Grimoire Token", "Fire Spirit Token"}}, 
            { name = 'Novi_Chroni', tokens = {"Grimoire Token", "Wind Spirit Token", "Fire Spirit Token"}, type = "boss"}, 
        }
    },
    [8] = {
        world = {
            name = "Leaf_Village",
            raids = {},
            gachaTable = {
                ["Power_Eyes"] = { 
                    token = "Eye Token",
                    list = { "Single Tomoe Eye", "Double Tomoe Eye", "Triple Tomoe Eye", "Trind Insight Eye", "Cyclone Eye", "Whirlpool's Depth Eye", "Trind Nexus Eye", "Eclipse Eye", "Atomic Insight Eye", "Eternal Eclipse Eye", "Eternal Atomic Eye", "Eye of Six Paths" }
                }
            },
            upgradeTable = {
                ["Attack_Range_2"] = { token = "Orange Upgrade Token" },
                ["Chakra_Progression"] = { token = "Chakra Token" }
            }
        },
        enemies = {
            { name = 'Sekuri', tokens = {"Chakra Token"}}, 
            { name = 'Kid_Norto', tokens = {"Chakra Token"}}, 
            { name = 'Kid_Seske', tokens = {"Chakra Token"}}, 
            { name = 'Kakashki', tokens = {"Chakra Token"}}, 
            { name = 'Jiria', tokens = {"Chakra Token", "Eye Token"}}, 
            { name = 'Tsuni', tokens = {"Chakra Token", "Eye Token"}}, 
            { name = 'Itechi', tokens = {"Chakra Token", "Eye Token"}, type = "boss"}, 
            { name = 'Madera', tokens = {"Chakra Token", "Eye Token"}, type = "boss"}, 
        }
    },
    [9] = {
        world = {
            name = "Spirit_Residence",
            raids = {
                ["Progression_Raid"] = {
                    key = {type = 1, id = 3, limit = 3}
                }
            },
            gachaTable = {
                ["Psychic_Mayhem"] = { 
                    token = "Granny Token",
                    list = { "Illusion Casting", "Mind Swap", "Brain Freeze Field", "Kinetic Absorption", "Precognition", "Psychic Barrier", "Energy Aura Blast" }
                }
            },
            upgradeTable = {
                ["Spiritual_Upgrade"] = { token = "Gold Ball Token" },
                ["Lucky_Spirit"] = { token = "Lucky Spirit Token" }
            }
        },
        enemies = {
            { name = 'Ken', tokens = {"Gold Ball Token", "Lucky Spirit Token"}}, 
            { name = 'Aira', tokens = {"Gold Ball Token", "Lucky Spirit Token"}},
            { name = 'Jiji', tokens = {"Gold Ball Token", "Lucky Spirit Token"}},
            { name = 'Momo', tokens = {"Gold Ball Token", "Granny Token"}}, 
            { name = 'Alien', tokens = {"Gold Ball Token", "Granny Token"}}, 
            { name = 'Saiko', tokens = {"Gold Ball Token", "Granny Token"}}, 
            { name = 'Ken_Turbo', tokens = {"Gold Ball Token", "Granny Token"}, type = "boss"}, 
        }
    },
    [10] = {
        world = {
            name = "Magic_Hunter_City",
            raids = {},
            gachaTable = {
                ["Energy_Card_Shop"] = { 
                    token = "Energy TCG Token",
                    list = { "Energy Card I", "Energy Card II", "Energy Card III", "Energy Card IV", "Energy Card V", "Energy Card VI", "Energy Card VII" }
                },
                ["Damage_Card_Shop"] = { 
                    token = "Damage TCG Token", 
                    list = { "Damage Card I", "Damage Card II", "Damage Card III", "Damage Card IV", "Damage Card V", "Damage Card VI", "Damage Card VII", "Damage Card VIII" }
                }
            },
            upgradeTable = {
                ["Energy_Obelisk"] = { token = "Obelisk Coin" },
                ["Contract_of_Greed"] = { token = "Greedy Token" },
                ["Ten_Progression"] = { token = "Ten Token", Upgrading_Name = "Ten" }
            }
        },
        enemies = {
            { name = 'Lero', tokens = {"Energy TCG Token", "Greedy Token"}},
            { name = 'Gone', tokens = {"Energy TCG Token", "Greedy Token"}},
            { name = 'Karapik', tokens = {"Ten Token", "Greedy Token"}},
            { name = 'Killas', tokens = {"Ten Token", "Greedy Token"}}, 
            { name = 'Hisoker', tokens = {"Damage TCG Token"}}, 
            { name = 'Illumio', tokens = {"Damage TCG Token"}}, 
            { name = 'Killas_Godspeed', tokens = {"Energy TCG Token", "Ten Token", "Damage TCG Token"}, type = "boss"}, 
        }
    },
    [11] = {
        world = {
            name = "Titan_City",
            raids = {
                ["Titan_Defense"] = {
                    key = {type = 1, id = 4},
                    drops = { "Obelisk Coin" }
                }
            },
            gachaTable = {
                ["Families"] = { 
                    token = "Families Token",
                    list = { "Gitce Family", "Leonhart Family", "Braun Family", "Tybur Family", "Ackerman Family", "Yeager Family", "Reiss Family" }
                },
            },
            upgradeTable = {},
            fighterTable = {
                ["Titans"] = {
                    token = "Titan Token",
                    list = { "Jaw Titan", "Female Titan", "Beast Titan", "Armored Titan", "Warhammer Titan", "Attack Titan", "Colossal Titan" }
                }                
            },
        },
        enemies = {
            { name = 'Armim', tokens = {"Families Token"}}, 
            { name = 'Annie', tokens = {"Families Token"}}, 
            { name = 'Mikala', tokens = {"Families Token"}}, 
            { name = 'Rainar', tokens = {"Titan Token"}},
            { name = 'Ervin', tokens = {"Titan Token", "Spinal Fluid Token"}}, 
            { name = 'Lavi', tokens = {"Titan Token", "Spinal Fluid Token"}}, 
            { name = 'Eran', tokens = {"Families Token", "Titan Token", "Spinal Fluid Token"}, type = "boss"}, 
        }
    },
    [12] = {
        world = {
            name = "Village_of_Sins",
            raids = {
                ["Sin_Raid"] = {
                    key = {type = 1, id = 12},
                    drops = { "Obelisk Coin", "Sin Upgrade Token" }
                }
            },
            gachaTable = {
                ["Sins"] = { 
                    token = "Sins Token",
                    list = { "Lust", "Envy", "Sloth", "Greed", "Gluttony", "Wrath", "Pride" }
                },
                ["Commandments"] = { 
                    token = "Commandments Token",
                    list = { "Selflessness", "Pacifism", "Patience", "Repose", "Purity", "Reticence", "Truth", "Faith", "Piety", "Love" }
                }
            },
            upgradeTable = {
                ["Energy_Progression"] = { token = "Energy" }, -- Might need to customize this
                ["Sin_Upgrades_Energy"] = { token = "Sin Upgrade Token", Upgrading_Name = "Energy" },
                ["Sin_Upgrades_Coins"] = { token = "Sin Upgrade Token", Upgrading_Name = "Coins" },
                ["Sin_Upgrades_Star_Luck"] = { token = "Sin Upgrade Token", Upgrading_Name = "Star_Luck" },
                ["Sin_Upgrades_Damage"] = { token = "Sin Upgrade Token", Upgrading_Name = "Damage" },
            }
        },
        enemies = {
            { name = 'Diyana', tokens = {"Sins Token"}}, 
            { name = 'Kyng', tokens = {"Sins Token"}},
            { name = 'Gowen', tokens = {"Sins Token"}},
            { name = 'Merlun', tokens = {"Sins Token"}}, 
            { name = 'Bane', tokens = {"Commandments Token"}}, 
            { name = 'Melyon', tokens = {"Commandments Token"}}, 
            { name = 'Esanor', tokens = {"Commandments Token"}, type = "boss"}, 
        }
    },
    [13] = {
        world = {
            name = "Kaiju_Base",
            raids = {
                ["Kaiju_Dungeon"] = {
                    key = {type = 1, id = 5},
                    drops = {"Kaiju Energy Token", "Fortitude Level Token", "Kaiju Token"}
                }
            },
            gachaTable = {
                ["Kaiju_Powers"] = { 
                    token = "Kaiju Token",
                    list = { "Phaneroplus", "Philinosoma", "Primigenius Honju", "Preondactyl", "Mixogastero", "No. 10", "No. 9", "No. 8" }
                },
                ["Power_of_Exchange"] = {
                    token = "Exchange Coin",
                    list = {"Power of Exchange I", "Power of Exchange II", "Power of Exchange III", "Power of Exchange IV", "Power of Exchange V", "Power of Exchange VI", "Power of Exchange VII", "Power of Exchange VIII"}
                }
            },
            upgradeTable = {
                ["Fortitude_Level"] = { token = "Fortitude Level Token" },
                ["Kaiju_Energy"] = { token = "Kaiju Energy Token" }
            }
        },
        enemies = {
            { name = 'Kefka', tokens = {"Fortitude Level Token"}},
            { name = 'Rano', tokens = {"Fortitude Level Token"}}, 
            { name = 'Ihero', tokens = {"Fortitude Level Token"}},
            { name = 'Kikoi', tokens = {"Fortitude Level Token"}}, 
            { name = 'Sosiro', tokens = {"Kaiju Token"}}, 
            { name = 'Meena', tokens = {"Kaiju Token"}}, 
            { name = 'Number_8', tokens = {"Kaiju Token", "Fortitude Level Token"}, type = "boss"}, 
        }
    },
    [14] = {
        world = {
            name = "Tempest_Capital",
            raids = {
                ["Dragon_Room_Raid"] = { 
                    key = {type = 1, id = 13},
                    list = {"Common Storm Dragon", "Uncommon Storm Dragon", "Rare Storm Dragon", "Epic Storm Dragon", "Legendary Storm Dragon", "Mythical Storm Dragon", "Phantom Storm Dragon", "Supreme Storm Dragon"}
                }
            },
            gachaTable = {
                ["Ultimate_Skills"] = { 
                    token = "Ultimate Skill Token",
                    list = { "Amaterasu", "True Hero", "Uriel", "Satanael", "Lucifer", "Yog-Sothoth", "Beelzebub", "Raphael" }
                },
                ["Species"] = { 
                    token = "Species Token",
                    list = { "Goblin", "Lizardman", "Slime", "Dryad", "Kijin", "Dragonoid", "Primordial Daemon", "True Dragon" }
                }
            },
            upgradeTable = {
                ["Demon_Lord_Damage"] = { token = "Demon Damage Token", Upgrading_Name = "Damage", bench = true },
                ["Demon_Lord_Energy"] = { token = "Demon Energy Token", Upgrading_Name = "Energy", bench = true },
                ["Demon_Lord_Luck"] = { token = "Demon Luck Token", Upgrading_Name = "Luck", bench = true },
                ["Demon_Lord_Coins"] = { token = "Demon Coins Token", Upgrading_Name = "Coins", bench = true }
            }
        },
        enemies = {
            { name = 'Gobito', tokens = {"Species Token"}},
            { name = 'Gabido', tokens = {"Demon Damage Token"}},
            { name = 'Sakai', tokens = {"Demon Luck Token"}},
            { name = 'Hakamaru', tokens = {"Demon Coins Token"}}, 
            { name = 'Benitaro', tokens = {"Ultimate Skill Token"}}, 
            { name = 'Rimaru', tokens = {"Demon Energy Token"}}, 
            { name = 'Valzora', tokens = {"Species Token", "Ultimate Skill Token", "Demon Energy Token"}, type = "boss"},       
        }
    },
    [15] = {
        world = {
            name = "Virtual_City",
            raids = {
                ["Gleam_Raid"] = {
                    key = {type = 1, id = 6},
                    list = { "Common Gleam Power", "Uncommon Gleam Power", "Rare Gleam Power", "Epic Gleam Power", "Legendary Gleam Power", "Mythical Gleam Power", "Phantom Gleam Power", "Supreme Gleam Power"}
                }
            },
            gachaTable = {
                ["Power_Energy_Runes"] = { 
                    token = "Energy Rune Token",
                    list = { "Common Energy Rune", "Uncommon Energy Rune", "Rare Energy Rune", "Epic Energy Rune", "Legendary Energy Rune", "Mythical Energy Rune", "Phantom Energy Rune", "Supreme Energy Rune" }
                }
            },
            upgradeTable = {
                ["Damage_Obelisk"] = { token = "Obelisk Coin" },
                ["Swordsman_Energy"] = { token = "Swordsman Energy Token", Upgrading_Name = "Energy", bench = true },
                ["Swordsman_Damage"] = { token = "Swordsman Damage Token", Upgrading_Name = "Damage", bench = true }
            }
        },
        enemies = {
            { name = 'Lisbeta', tokens = {"Energy Rune Token"}},
            { name = 'Silica', tokens = {"Energy Rune Token"}},
            { name = 'Klain', tokens = {"Weapon Rune Token"}},
            { name = 'Yai', tokens = {"Swordsman Damage Token"}}, 
            { name = 'Asana', tokens = {"Swordsman Energy Token"}}, 
            { name = 'Beater', tokens = {"Swordsman Energy Token"}}, 
            { name = 'The_Paladin', tokens = {"Energy Rune Token", "Weapon Rune Token", "Swordsman Energy Token"}, type = "boss"}, 
        }
    },
    [16] = {
        world = {
            name = "Cairo",
            raids = {
                ["Progression_Raid_2"] = {
                    key = {type = 1, id = 9, limit = 3},
                    drops = { "Obelisk Coin" }
                }
            },
            gachaTable = {
                ["Onomatopoeia"] = { 
                    token = "Onomatopoeia Token",
                    list = { "Common Onomatopoeia", "Uncommon Onomatopoeia", "Rare Onomatopoeia", "Epic Onomatopoeia", "Legendary Onomatopoeia", "Mythical Onomatopoeia", "Phantom Onomatopoeia", "Supreme Onomatopoeia" }
                },
            },
            upgradeTable = {
                ["Ripple_Energy"] = { token = "Ripple Token" },
                
            },
            fighterTable = {
                ["Stands"] = { 
                    token = "Stand Token",
                    list = { "Door", "Hand", "Zipper Man", "Deadly Queen", "Pale Snake", "Shining Diamond", "Platnium", "World" }
                }
            }
        },
        enemies = {
            { name = 'Speedy', tokens = {"Onomatopoeia Token"}},
            { name = 'Cesar', tokens = {"Stand Token"}}, 
            { name = 'Joseph', tokens = {"Requiem Token"}}, 
            { name = 'Polyreff', tokens = {"Ripple Token"}}, 
            { name = 'Avdoli', tokens = {"Ripple Token"}}, 
            { name = 'Jokaro', tokens = {"Ripple Token"}}, 
            { name = 'Dino', tokens = {"Stand Token", "Requiem Token", "Ripple Token"}, type = "boss"}, 
        }
    },
    [17] = {
        world = {
            name = "Ghoul_City",
            raids = {
                ["Ghoul_Raid"] = {
                    key = {type = 1, id = 7},
                    list = {"Common Ghoul Mask", "Uncommon Ghoul Mask", "Rare Ghoul Mask", "Epic Ghoul Mask", "Legendary Ghoul Mask", "Mythical Ghoul Mask", "Phantom Ghoul Mask", "Supreme Ghoul Mask"}
                }
            },
            gachaTable = {
                ["Investigators"] = { 
                    token = "CCG Token",
                    list = { "Bureau", "Assistants", "Rank 3", "Rank 2", "Rank 1", "First Class", "Associate Special Class", "Special Class" }
                },
                ["Kagune"] = { 
                    token = "Kagune Token",
                    list = { "Retto", "Hakuro", "Shinku", "Tetsuba", "Shidare", "Hakuja", "Mukade", "Koumyaku" }
                }
            },
            upgradeTable = {
                ["Damage_Cells"] = { token = "Kakuhou Token", Upgrading_Name = "Damage", bench = true }
            }
        },
        enemies = {
            { name = 'Hideyo', tokens = {"CCG Token"}}, 
            { name = 'Joozu', tokens = {"CCG Token"}}, 
            { name = 'Madyo', tokens = {"Kagune Token"}}, 
            { name = 'Kotaro', tokens = {"Kagune Token"}}, 
            { name = 'Toaoka', tokens = {"Kakuhou Token"}}, 
            { name = 'Kanny', tokens = {"Kakuhou Token"}}, 
            { name = 'Arama', tokens = {"CCG Token", "Kagune Token", "Kakuhou Token"}, type = "boss"}, 
        }
    },
    [18] = {
        world = {
            name = "Chainsaw_City",
            raids = {
                ["Chainsaw_Defense"] = {
                    key = {type = 1, id = 8},
                    list = {"Common Pokita", "Uncommon Pokita", "Rare Pokita", "Epic Pokita", "Legendary Pokita", "Mythical Pokita", "Phantom Pokita", "Supreme Pokita"}
                }
            },
            gachaTable = {
                ["Debiru_Hunter"] = { 
                    token = "Debiru Token",
                    list = { "Rookie Hunter", "Field Hunter", "Contract Hunter", "Fiend Hunter", "Hybrid Hunter", "Veteran Hunter", "Special Division Hunter", "Primal Threat Hunter" }
                },
                ["Akuma_Powers"] = { 
                    token = "Akuma Token",
                    list = { "Akuma: Ghost", "Akuma: Fox", "Akuma: Future", "Akuma: Curse", "Akuma: Angel", "Akuma: Crossbow", "Akuma: Pokita", "Akuma: Control" }
                }
            },
            upgradeTable = {
                ["Akuma_Energy"] = { token = "Akuma Energy Token", Upgrading_Name = "Energy", bench = true },
                ["Akuma_Damage"] = { token = "Akuma Damage Token", Upgrading_Name = "Damage", bench = true }
            }
        },
        enemies = {
            { name = 'Kabeni', tokens = {"Debiru Token"}},
            { name = 'Benji', tokens = {"Debiru Token"}},
            { name = 'Powa', tokens = {"Akuma Energy Token"}},
            { name = 'Aoki', tokens = {"Akuma Token"}},
            { name = 'Raza', tokens = {"Akuma Token"}},
            { name = 'Makomi', tokens = {"Akuma Damage Token"}},
            { name = 'Mr_Chainsaw', tokens = {"Debiru Token", "Akuma Token", "Akuma Damage Token"}},
            { name = "Hero_of_Hell", tokens = {"Debiru Token", "Akuma Token", "Akuma Damage Token"}, type = "boss"}
        }
    },
    [19] = {
        world = {
            name = "Tokyo_Empire",
            raids = {
                ["Netherworld_Defense"] = {
                    key = {type = 1, id = 11},
                    drops = { "Obelisk Coin" }
                }
            },
            gachaTable = {
                ["Mushi_Bite"] = {
                    list = { "1st Generation" } -- Coins
                },
                ["Special_Fire_Force"] = { 
                    token = "Fire Company Token",
                    list = { "Company 1", "Company 2", "Company 3", "Company 4", "Company 5", "Company 6", "Company 7", "Company 8" }
                }
            },
            upgradeTable = {}
        },
        enemies = {
            { name = 'Akiki', tokens = {"Mushi Token"}},
            { name = 'Arter', tokens = {"Infernal Token"}},
            { name = 'Shinro', tokens = {"Flare Token", "Fire Company Token"}},
            { name = 'Tameki', tokens = {"Ignition Token", "Fire Company Token"}},
            { name = 'Iriso', tokens = {"Hellfire Token"}}, 
            { name = 'Witch_Queen', tokens = {"Adolla Token", "Adolla Blessing Token"}}, 
            { name = 'Leonardo', tokens = {"Ignition Token", "Hellfire Token", "Adolla Token"}},
            { name = 'Bansho', tokens = {"Ignition Token", "Hellfire Token", "Adolla Token"}}, 
        }
    },
    [20] = {
        world = {
            name = "Green_Planet",
            raids = {},
            gachaTable = {
                ["Grand_Elder_Power"] = { 
                    token = "Grand Elder Token",
                    list = { "Sleeping Power", "Stirring Spirit", "Hidden Potential", "Power Unleashed", "True Potential", "Limitless Growth", "Potential Unbound" }
                },
                ["Frost_Demon_Evolution"] = { 
                    token = "Frost Demon Token",
                    list = { "Second Form", "Third Form", "Final Form", "50% Power", "100% Full Power", "Mecha Form", "Golden Form", "Black Form" }
                },
                ["Power_of_Friendship"] = {
                    token = "Exchange Coin 2",
                    list = {"Power of Friendship I", "Power of Friendship II", "Power of Friendship III", "Power of Friendship IV", "Power of Friendship V", "Power of Friendship VI", "Power of Friendship VII", "Power of Friendship VIII"}
                }
            },
            upgradeTable = {
                ["Dragon_Damage"] = { token = "Dragon Blessing Token", Upgrading_Name = "Damage", bench = true },
                ["Dragon_Energy"] = { token = "Dragon Blessing Token", Upgrading_Name = "Energy", bench = true }
            }
        },
        enemies = {
            { name = 'Bulam', tokens = {"Grand Elder Token"}},
            { name = 'Young_Kohan', tokens = {"Dragon Race Lvl Token", "Saiyan Lvl Token"}},
            { name = 'Armored_Kriluni', tokens = {"Dragon Race Lvl Token", "Saiyan Lvl Token"}}, 
            { name = 'Giniy', tokens = {"Frost Demon Token"}}, 
            { name = 'Vegeti', tokens = {"Frost Demon Token"}}, 
            { name = 'Lord_Frizzi', tokens = {"Dragon Blessing Token"}},
            { name = 'Koku_SSJ', tokens = {"Frost Demon Token", "Grand Elder Token", "Saiyan Lvl Token"}}, 
            { name = 'Frezi_Final_Form', tokens = {"Frost Demon Token", "Grand Elder Token", "Dragon Race Lvl Token"}, type = "boss"}
        }
    },
    [21] = {
        world = {
            name = "Hollow_World",
            raids = {},
            gachaTable = {
                ["Espada"] = { 
                    token = "Espada Token",
                    list = { "Espada 9", "Espada 8", "Espada 7", "Espada 6", "Espada 5", "Espada 4", "Espada 3", "Espada 2", "Espada 1", "Espada 0" }
                },
            },
            upgradeTable = {},
            weaponTable = {
                ["Scythes"] = {
                    token = "Scythe Token",
                    list = { "Venomleaf", "Cryoscythe", "Toxinfang", "Crimson Thorn", "Bonehowl", "Ashfang", "Phantom Requiem", "Stormreaver" }
                }
            }
        },
        enemies = {
            { name = 'Ohime', tokens = {"Scythe Token", "Espada Token"}},
            { name = 'Ichiga', tokens = {"Scythe Token", "Reiatsu Lvl Token"}},
            { name = 'Chaddo', tokens = {"Scythe Token", "Zanpakuto Lvl Token"}}, 
            { name = 'Zayrel', tokens = {"Scythe Token", "Zanpakuto Lvl Token"}},
            { name = 'Uloqi', tokens = {"Scythe Token", "Bankai Token"}},
            { name = 'Grimmi', tokens = {"Scythe Token", "Bankai Token"}},
            { name = 'Cifer', tokens = {"Scythe Token", "Bankai Token", "Zanpakuto Lvl Token"}}, 
            { name = 'Vasto_Ichige', tokens = {"Scythe Token", "Bankai Token", "Reiatsu Lvl Token"}}, 
        }
    },
    [22] = {
        world = {
            name = "Shadow_Academy",
            raids = {},
            gachaTable = {
                ["Shadow_Garden"] = { 
                    token = "Shadow Garden Token",
                    list = { "Operative", "Agent", "Enforcer", "Commander", "Division Head", "Shadow Council Member", "The First Shadow", "The Eminence" }
                },
                ["Shadow_Arts"] = { 
                    token = "Shadow Arts Token",
                    list = { "Silent Step", "Shadow Bind", "Mirage Strike", "Eclipse Slash", "Abyssal Blade", "Void Erasure", "Eternal Shadow Waltz", "i Am Atomic" }
                }
            },
            upgradeTable = {
                ["Eminence_Energy"] = { token = "Eminence Coin", Upgrading_Name = "Energy", bench = true },
                ["Eminence_Damage"] = { token = "Eminence Coin", Upgrading_Name = "Damage", bench = true },
                ["Eminence_Coins"] = { token = "Eminence Coin", Upgrading_Name = "Coins", bench = true },
                ["Eminence_Luck"] = { token = "Eminence Coin", Upgrading_Name = "Luck", bench = true }
            }
        },
        enemies = {
            { name = 'Cyd', tokens = {"Shadow Garden Token", "Eminence Coin"}}, 
            { name = 'Zeta', tokens = {"Shadow Arts Token", "Eminence Coin"}}, 
            { name = 'Delta', tokens = {"Garden Lvl Token", "Eminence Coin"}}, 
            { name = 'Beta', tokens = {"Arts Lvl Token", "Eminence Coin"}}, 
            { name = 'Gamma', tokens = {"Eminence Coin"}}, 
            { name = 'Alpha', tokens = {"Eminence Coin"}}, 
            { name = 'Blood_Queen', tokens = {"Garden Lvl Token", "Arts Lvl Token", "Eminence Coin"}},
            { name = 'Shadow', tokens = {"Garden Lvl Token", "Arts Lvl Token", "Eminence Coin"}, type = "boss"}, 
        }
    },
    [23] = {
        world = {
            name = "Z_City",
            raids = {
                ["One_Hero_Raid"] = {
                    key = {type = 2, id = 9, limit = 6},
                    drops = { "Obelisk Coin" },
                    rewards = {"Common One Hero", "Uncommon One Hero", "Rare One Hero", "Epic One Hero", "Legendary One Hero", "Mythical One Hero", "Phantom One Hero", "Supreme One Hero"}
                }
            },
            gachaTable = {
                ["Energy_Threat_Level"] = { 
                    token = "Threat Level Token",
                    list = { "Predator", "Havoc", "Disaster", "Dominion", "Oblivion", "Plante Breaker", "Cosmic Annihilator", "The Absolute" }
                },
                ["Punch_Power"] = { 
                    token = "Punch Token",
                    list = { "Basic Punch", "Heroic Fist", "Serious Punch", "Celestial Impact", "Gamma Burst Punch", "One Punch" }
                },
                ["Exchange_of_Power"] = {
                    token = "Exchange Coin 2",
                    list = {"Exchange of Power I", "Exchange of Power II", "Exchange of Power III", "Exchange of Power IV", "Exchange of Power V", "Exchange of Power VI", "Exchange of Power VII", "Exchange of Power VIII"}
                }
            },
            upgradeTable = {
                ["Hide_n_Punch_Progression"] = { token = "Punching Machine Coin", Upgrading_Name = "Damage", bench = true },
            }
        },
        enemies = {
            { name = 'Crabby', tokens = {"Threat Level Token"}},
            { name = 'Mantis', tokens = {"Punch Token"}}, 
            { name = 'Tatsura', tokens = {"Threat Lvl Token"}},
            { name = 'Ganos', tokens = {"Punch Lvl Token"}},
            { name = 'King_of_Seas', tokens = {"Threat Lvl Token"}}, 
            { name = 'Bald_Man', tokens = {"Punch Lvl Token"}}, 
            { name = 'Lord_Boro', tokens = {"Threat Level Token", "Punch Token"}}, 
            { name = 'Galaxy_Hunter', tokens = {"Punch Token", "Threat Level Token"}, type = "boss"}, 
            
        }
    },
    [24] = {
        world = {
            name = "Great_Tomb",
            raids = {
                ["Tomb_Arena_Raid"] = {
                    key = {type = 2, id = 5},
                }
            },
            gachaTable = {
                ["Adventurer_Rank"] = {
                    token = "Adventurer Token",
                    list = {"Copper", "Iron", "Silver", "Gold", "Platinum", "Mithril", "Orichalcum", "Adamantite"}
                },
                ["Magic_Tier"] = {
                    token = "Magic Tier Token",
                    list = {"Low-Tier Magic", "Mid-Tier Magic", "High-Tier Magic", "Top-Tier Magic", "Peak-Tier Magic", "Super-Tier Magic", "Wild Magic", "World Item Magic"}
                }
            },
            upgradeTable = {
                ["Mana_Growth"] = { token = "Mana Growth Token", Upgrading_Name = "Energy", bench = true },
                ["Ultimate_Cast"] = { token = "Ultimate Cast Token", Upgrading_Name = "Damage", bench = true }
            }
        },
        enemies = {
            { name = 'Pandoros_Actor', tokens = {"Adventurer Token"}},
            { name = 'Auro', tokens = {"Magic Tier Token"}},
            { name = 'Maro', tokens = {"Mana Growth Token"}},
            { name = 'Sebes', tokens = {"Ultimate Cast Token"}},
            { name = 'Shaltir', tokens = {"Adventurer Lvl Token"}},
            { name = 'Demurge', tokens = {"Magic Tier Lvl Token"}},
            { name = 'Albedia', tokens = {"Adventurer Token", "Magic Tier Token", "Mana Growth Token"}},
            { name = 'Anz_Ool_Gawn', tokens = {"Adventurer Token", "Magic Tier Token", "Ultimate Cast Token"}, type = "boss"}, 
            
        }
    },
    [25] = {
        world = {
            name = "Thriller_Park",
            raids = {},
            gachaTable = {
                ["Thriller_Zombie"] = {
                    token = "Thriller Zombie Token",
                    list = {"Surprise Zombie", "Zombie Soldier", "Wild Zombie", "Mid-Tier Zombie General", "Elite Zombie General", "High-Class Zombie", "Special Zombie", "Zombie Controller"}
                },
                ["Nightmare_Evolution"] = {
                    token = "Nightmare Evo Token",
                    list = {"Common Nightmare Evo", "Uncommon Nightmare Evo", "Rare Nightmare Evo", "Epic Nightmare Evo", "Legendary Nightmare Evo", "Mythical Nightmare Evo", "Phantom Nightmare Evo", "Supreme Nightmare Evo"}
                },
            },
            upgradeTable = {                
                ["Coins_Obelisk"] = { token = "Obelisk Coin", Upgrading_Name = "Coins", bench = true }
            },
            fighterTable = {
                ["Special_Zombie"] = {
                    token = "Special Zombie Token",
                    list = {"Uncommon Zombie", "Rare Zombie", "Epic Zombie", "Legendary Zombie", "Mythical Zombie", "Phantom Zombie"}
                }
            }
        },
        enemies = {
            { name = 'Robini', tokens = {"Thriller Zombie Token", "Zombie Glue", "Zombie Saw"}},
            { name = 'Perina', tokens = {"Nightmare Evo Token", "Zombie Glue", "Zombie Saw"}}, 
            { name = 'Franq', tokens = {"Special Zombie Token", "Zombie Glue", "Zombie Saw"}}, 
            { name = 'Brukk', tokens = {"Special Zombie Token", "Zombie Glue", "Zombie Saw"}}, 
            { name = 'Nightmare_Loffy', tokens = {"Zombie Booster Token", "Zombie Glue", "Zombie Saw"}},
            { name = 'Orrs', tokens = {"Zombie Booster Token", "Zombie Glue", "Zombie Saw"}}, 
            { name = 'Riuma', tokens = {"Thriller Zombie Token", "Nightmare Evo Token", "Zombie Glue", "Zombie Saw"}}, 
            { name = 'Gekar_Morra', tokens = {"Special Zombie Token", "Zombie Booster Token", "Zombie Glue", "Zombie Saw"}}, 
        }
    },
    [26] = {
        world = {
            name = "Amusement_Park",
            raids = {},
            gachaTable = {
                ["Assassin_Grade"] = {
                    token = "Assassin Grade Token",
                    list = {"Street Rat", "Fixer", "Contract Killer", "Specialist", "Executioner", "Shadow Elite", "Order Legend", "Phantom of Death"}
                },
                ["Assassin_Skills"] = {
                    token = "Assassin Skill Token",
                    list = {"Reflex Boost", "Focus Sight", "Precision Strike, Adrenal Surge", "Shadow Cloak", "Echo Sense", "Zero Time", "Ascendant Form"}
                }
            },
            upgradeTable = {
                ["Assassin_Energy"] = { token = "Assassin Energy Token", Upgrading_Name = "Energy", bench = true },
                ["Assassin_Damage"] = { token = "Assassin Damage Token", Upgrading_Name = "Damage", bench = true },
                ["Assassin_Critical_Energy"] = { token = "Assassin Flow Coin", Upgrading_Name = "Critical_Energy", bench = true },
                ["Assassin_Critical_Damage"] = { token = "Lethal Coin", Upgrading_Name = "Critical_Damage", bench = true }
            }
        },
        enemies = {
            { name = 'Masumo', tokens = {"Assassin Grade Token", "Scythe Coin"}},
            { name = 'Lu_Shaoran', tokens = {"Assassin Skill Token", "Scythe Coin"}},
            { name = 'Shiru', tokens = {"Assassin Energy Token", "Scythe Coin"}},
            { name = 'Nakumo', tokens = {"Assassin Damage Token", "Scythe Coin"}}, 
            { name = 'Sakomura', tokens = {"Assassin Flow Coin", "Scythe Coin"}}, 
            { name = 'Shibasa', tokens = {"Lethal Coin", "Scythe Coin"}}, 
            { name = 'Hayo', tokens = {"Assassin Grade Token", "Assassin Energy Token", "Scythe Coin"}}, 
            { name = 'Takemoto', tokens = {"Assassin Skill Token", "Assassin Damage Token", "Scythe Coin"}, type = "boss"},
            { name = 'Tagamura', tokens = {"Assassin Skill Token", "Assassin Damage Token", "Scythe Coin"}, type = "boss"}, 
        }
    },
    [27] = {
        world = {
            name = "Re:Manor",
            raids = {},
            gachaTable = {
                ["Witch_Factor"] = {
                    token = "Witch Factor Token",
                    list = {"Tainted Spark", "Blighted Flame", "Crimson Howl", "Abyssal Surge", "Sin Eruption", "Authority Break", "Witch's Wrath", "Eclipse of Fate"}
                },
                ["Spirit_Pact"] = {
                    token = "Spirit Pact Token",
                    list = {"Faint Whisper", "Guiding Ember", "Flowing Grace", "Sacred Bond", "Celestial Pulse", "Spirit's Oath", "Divine Resonance", "Eternal Convergence"}
                },
                ["Witch_Authority"] = {
                    token = "Witch Authority Token",
                    list = {"Re:Envy", "Re:Sloth", "Re:Wrath", "Re:Lust", "Re:Gluttony", "Re:Melancholy", "Re:Greed", "Re:Vainglory"}
                },
                ["Re:Spirit_Pact"] = {
                    token = "Spirit Pact Token",
                    list = {"Re:Faint Whisper", "Re:Guiding Ember", "Re:Flowing Grace", "Re:Sacred Bond", "Re:Celestial Pulse", "Re:Spirit's Oath", "Re:Divine Resonance", "Re:Eternal Convergence"}
                },
                ["Re:Witch_Factor"] = {
                    token = "Witch Factor Token",
                    list = {"Re:Tainted Spark", "Re:Blighted Flame", "Re:Crimson Howl", "Re:Abyssal Surge", "Re:Sin Eruption", "Re:Authority Break", "Re:Witch's Wrath", "Re:Eclipse of Fate"}
                },
            },
            upgradeTable = {}
        },
        enemies = {
            { name = 'Sabaru', tokens = {"Spirit Pact Token", "Tome of Wisdom", "Scythe Coin"}},
            { name = 'Rammy', tokens = {"Witch Factor Token", "Tome of Wisdom", "Scythe Coin"}}, 
            { name = 'Remmy', tokens = {"Artifical Spirit Token", "Tome of Wisdom", "Scythe Coin"}, power = "Artifical Spirit"},
            { name = 'Fredrika', tokens = {"Gospel Cursed Token", "Tome of Wisdom", "Scythe Coin"}, power = "Gospel"},
            { name = 'Felis', tokens = {"Artifical Spirit Token", "Tome of Wisdom", "Scythe Coin"}}, 
            { name = 'Emilli', tokens = {"Gospel Cursed Token", "Tome of Wisdom", "Scythe Coin"}}, 
            { name = 'Bellatrice', tokens = {"Spirit Pack Token", "Artifical Spirit Token", "Tome of Wisdom", "Scythe Coin"}}, 
            { name = 'Roswald', tokens = {"Witch Factor Token", "Gospel Cursed Token", "Tome of Wisdom", "Scythe Coin"}, type = "boss"}, 
        }
    },
    [28] = {
        world = {
            name = "Asfordo_Academy",
            raids = {},
            gachaTable = {
                ["Geass_Potential"] = {
                    token = "Geass Potential Token",
                    list = {"Geass: Perception"}
                },
                ["Knightmare_Frames"] = {
                    token = "Knightmare Token",
                    list = {"Glasglow", "Sutherland", "Ganymede", "Gloucester", "Vercingetorix", "Shinkiro", "Lancelot", "Guren"}
                }
            },
            upgradeTable = {}
        },
        enemies = {
            { name = 'Euphy', tokens = {"Geass Potential Token", "Geass Perception Token", "Scythe Coin"}},
            { name = 'Reloush', tokens = {"Geass Soul Token", "Knightmare Token", "Scythe Coin"}},
            { name = 'Ogi', tokens = {"Geass Creation Token", "Scythe Coin"}},
            { name = 'Anja', tokens = {"Geass Precognition Token", "Scythe Coin"}}, 
            { name = 'Kalla', tokens = {"Geass Time Token", "Scythe Coin"}}, 
            { name = 'Susaku', tokens = {"Geass Telepathic Token", "Scythe Coin"}},
            { name = 'Zero', tokens = {}},
            { name = 'Emperor_Reloush', tokens = {}}, 
        }
    },
    [29] = {
        world = {
            name = "Science_Village",
            raids = {},
            gachaTable = {
                ["Scientific_Weapons"] = {
                    token = "Scientific Token",
                    list = {"Wooden Stick", "Crossbow", "Golden Spear", "Silver Spear", "Katana", "Dynamite", "Tank", "Cell Phone"}
                },
                ["IQ"] = {
                    token = "IQ Token",
                    list = {"One Millimeter IQ", "Normative IQ", "Superior IQ", "Exceptional IQ", "Prodigious IQ", "Scientist IQ", "Genius IQ", "Ten Billion IQ"}
                },
            },
            upgradeTable = {
                ["Science_Materials_Upgrade"] = { token = "Coins", Upgrading_Name = "Science_Materials", bench = true },
                ["Science_Upgrades_Energy"] = { token = "Wood", Upgrading_Name = "Energy"},
                ["Science_Upgrades_Damage"] = { token = "Wood", Upgrading_Name = "Damage"}
            }
        },
        enemies = {
            { name = 'Chromel', tokens = {"IQ Token", "Wood", "Sap", "Plant Fiber", "Scythe Coin"}}, 
            { name = 'Senko', tokens = {"Scientific Token", "Bones", "Fur", "Tusk", "Scythe Coin"}}, 
            { name = 'Genru', tokens = {"Stone", "Coal", "Scythe Coin"}}, 
            { name = 'Ginrai', tokens = {"Iron Ore", "Shells", "Scythe Coin"}},
            { name = 'Uryon', tokens = {"Salt", "Scythe Coin"}}, 
            { name = 'Taiko', tokens = {"Pearls", "Scythe Coin"}}, 
            { name = 'Kohara', tokens = {"IQ Token", "Acid", "Scythe Coin"}}, 
            { name = 'Tsukaro', tokens = {"Scientific Token", "Scythe Coin"}, type = "boss"}, 
        }
    },
    [30] = {
        world = {
            name = "Sand_Village",
            raids = {},
            gachaTable = {
                ["Power_Eyes_2"] = {
                    token = "Eye Token 2",
                    list = {"Eye of Six Paths: Aether", "Eye of Six Paths: Inferno", "Eye of Six Paths: Radiance", "Eye of Six Paths: Awakening", "Eye of Six Paths: Ascent", "Eye of Six Paths: Wrath", "Eye of Six Paths: Transcendence", "Eye of Six Paths: Cataclysm", "Eye of Six Paths: Divinity"}
                },
                ["Shinobi_Clan"] = {
                    token = "Shinobi Clan Token",
                    list = {"Aburame Clan", "Sarutobi Clan", "Hozuki Clan", "Kaguya Clan", "Hyuga Clan", "Uzumaki Clan", "Senju Clan", "Uchiha Clan"}
                },
                ["Kekkei_Genkai"] = {
                    token = "Genkai Token",
                    list = {"Scorch Release", "Bone Manipulation", "Ice Release", "Magnet Release", "Boil Release", "Lava Release", "Dust Release", "Wood Release"}
                }
            },
            upgradeTable = {}
        },
        enemies = {
            { name = 'Shikomeru', tokens = {"Shinobi Clan Token", "Chakra Infusion Token", "Scythe Coin"}},
            { name = 'Kenkoro', tokens = {"Genkai Token", "Chakra Infusion Token", "Scythe Coin"}}, 
            { name = 'Kaboto', tokens = {"Eye Token 2", "Chakra Infusion Token", "Scythe Coin"}},
            { name = 'Temoro', tokens = {"Eye Token 2", "Chakra Infusion Token", "Scythe Coin"}}, 
            { name = 'Deidi', tokens = {"Eye Token 2", "Chakra Infusion Token", "Scythe Coin"}}, 
            { name = 'Hiruken', tokens = {"Eye Token 2", "Chakra Infusion Token", "Scythe Coin"}},
            { name = 'Gaari', tokens = {"Eye Token 2", "Shinobi Clan Token", "Genkai Token", "Scythe Coin"}}, 
            { name = 'Sasaru', tokens = {"Eye Token 2", "Genkai Token", "Shinobi Clan Token", "Scythe Coin"}, type = "boss"}, 
        }
    },
    [31] = {
        world = {
            name = "Night_Raid_Base",
            raids = {
                ["Crimson_Canyon"] = {
                    key = {type = 2, id = 10},
                }
            },
            gachaTable = {
                ["Energy_Teigu"] = {
                    token = "Energy Teigu Token",
                    list = {"Water Dragon", "Magical Physician", "Gaia Foundation", "Black Marlin", "Susanoo", "Little War Horn", "Spectator", "Shambhala"}
                },
                ["Damage_Teigu"] = {
                    token = "Damage Teigu Token",
                    list = {"Belvaac", "Cross Tail", "Lionelle", "Yatsufusa", "Grand Chariot", "Pumpkin", "Incursio", "Murasame"}
                }
            },
            upgradeTable = {}
        },
        enemies = {
            { name = 'Sheene', tokens = {"Energy Teigu Token", "Scythe Coin"}},
            { name = 'Vols', tokens = {"Damage Teigu Token", "Scythe Coin"}},
            { name = 'Leina', tokens = {"Energy Teigu Token", "Legendary Beast Essence", "Scythe Coin"}},
            { name = 'Buran', tokens = {"Damage Teigu Token", "Mythical Beast Essence", "Scythe Coin"}},
            { name = 'Tatsumo', tokens = {"Energy Teigu Token", "Phantom Beast Essence", "Scythe Coin"}}, 
            { name = 'Kurona', tokens = {"Damage Teigu Token", "Supreme Beast Essence", "Scythe Coin"}}, 
            { name = 'Susanoe', tokens = {"Energy Teigu Token", "Scythe Coin"}},
            { name = 'Akara', tokens = {"Damage Teigu Token", "Scythe Coin"}, type = "boss"}, 
        }
    },
    [32] = {
        world = {
            name = "Salty_School",
            raids = {
                ["Body_Improvement_Challenge"] = {
                    key = {type = 2, id = 11},
                }
            },
            gachaTable = {
                ["Psycho_Flow"] = {
                    token = "Psycho Flow Token",
                    list = {"ESP Sensing", "Psychic Aura", "Psychic Barriers", "Exorcism", "Spirit Summoning", "Spirit Possession", "Energy Manipulation", "Energy Absorption"}
                },
                ["Psycho_Destruction"] = {
                    token = "Psycho Destruction Token",
                    list = {"Telekinetic Impact", "Pyrokinesis", "Electricity Manipulation", "Psychic Blasts", "Psychic Crush", "Vector Manipulation", "Gravity Manipulation", "???% State"}
                }
            },
            upgradeTable = {}
        },
        enemies = {
            { name = 'Arataki', tokens = {"Psycho Flow Token"}},
            { name = 'Taruka', tokens = {"Psycho Destruction Token"}},
            { name = 'Retsu', tokens = {"Psycho Flow Token", "Psycho Destruction Token"}},
            { name = 'Mob', tokens = {"Psycho Flow Token", "Psycho Destruction Token"}},
            { name = 'Shoi', tokens = {"Psycho Flow Token", "Psycho Destruction Token"}},
            { name = 'Sarizaw', tokens = {"Psycho Flow Token", "Psycho Destruction Token"}}, 
            { name = 'Mob_100%', tokens = {"Psycho Flow Token", "Psycho Destruction Token"}},
            { name = 'Dimpy', tokens = {"Psycho Destruction Token", "Psycho Flow Token"}, type = "boss"},   
        }
    },
    [33] = {
        world = {
            name = "Mugen_District",
            raids = {
                ["Mugen_Dungeon"] = {
                    key = {type = 2, id = 12},
                    rewards = {"Standing Ticket", "Economy Ticket", "Third Class Ticket", "Second Class Ticket", "Sleeper Cabin Ticket", "First Class Ticket", "Blood-Inked Ticket", "Infinity Ticket"}
                }
            },
            gachaTable = {
                ["Slayer_Marks"] = {
                    token = "Slayer Mark Token",
                    list = {"Dull Mark", "Flicker Mark", "Ember Mark", "Claw Mark", "Shatter Mark", "Pulse Mark", "Surge Mark", "Eternal Mark"}
                },
                ["Demon_Bloodline"] = {
                    token = "Demon Bloodline Token",
                    list = {"Dried Bloodline", "Stirred Bloodline", "Awoken Bloodline", "Ferocious Bloodline", "Elite Bloodline", "Royal Bloodline", "Primordial Bloodline", "Origin Bloodline"}
                }
            },
            upgradeTable = {}
        },
        enemies = {
            { name = 'Insaka', tokens = {"Slayer Mark Token"}},
            { name = 'Zantsu', tokens = {"Demon Bloodline Token"}}, 
            { name = 'Tanjaro', tokens = {"Slayer Mark Token", "Demon Bloodline Token"}}, 
            { name = 'Rengeki', tokens = {"Slayer Mark Token", "Demon Bloodline Token"}},
            { name = 'Tangan', tokens = {"Slayer Mark Token", "Demon Bloodline Token"}}, 
            { name = 'Deki', tokens = {"Slayer Mark Token", "Demon Bloodline Token"}},
            { name = 'Giutero', tokens = {"Slayer Mark Token", "Demon Bloodline Token"}}, 
            { name = 'Akazi', tokens = {"Slayer Mark Token", "Demon Bloodline Token"}, type = "boss"}, 
        }
    },
    [34] = {
        world = {
            name = "Easton_Academy",
            raids = {
            },
            gachaTable = {
                ["Magic_Type"] = {
                    token = "Magic Type Token",
                    list = {"Iron Magic", "Shuriken Magic", "Rose Magic", "Explosion Magic", "Graviole Magic", "Partisan Magic", "Sands Magic", "Lights Magic", "Timez Magic"}
                },
                ["The_Muscule"] = {
                    token = "The Muscule Token",
                    list = {"Finger Poke", "Wrist Strength", "Grip Crush", "Abdominal Crunch", "Hamstring Magic", "Spine Magic: Cobra", "Triceps Magic: Ballista", "Biceps Magic: Guillotine", "Unlimited Physical Mode"}
                }
            },
            upgradeTable = {
                ["House_of_Killer_Whale"] = { token = "Whale Token", Upgrading_Name = "Energy", bench = true},
                ["House_of_Eagle"] = { token = "Eagle Token", Upgrading_Name = "Star_Luck", bench = true},
                ["House_of_Wold"] = { token = "Wolf Token", Upgrading_Name = "Coins", bench = true}
            }
        },
        enemies = {
            { name = 'Fyn', tokens = {"Magic Type Token"}},
            { name = 'Dot', tokens = {"The Muscule Token"}},
            { name = 'Lanz', tokens = {"Eagle Token"}},
            { name = 'Margery', tokens = {"Whale Token"}}, 
            { name = 'Rayn', tokens = {"Wolf Token"}},
            { name = 'Abiss', tokens = {"Magic Type Token", "The Muscule Token"}},
            { name = 'Mashe', tokens = {"Magic Type Token", "The Muscule Token"}}, 
            { name = 'War_Cell', tokens = {"Magic Type Token", "The Muscule Token"}, type = "boss"}, 
        }
    },
}


local function populateTable(_tbl1, _tbl2)
    if _tbl1 and next(_tbl1) ~= nil then
        for name,v in pairs(_tbl1)do
            if not table.find(_tbl2, name) then
                table.insert(_tbl2, name)
            end
        end
    end
end

local GACHA = {}
local RAIDS = {}
local UPGRADES = {}
local WEAPONS = {}
local FIGHTERS = {}
local WFTABLE = {}
local KEYS = {}
local KEYINFO = {}
local TOKENS = {}

local function IntData()
    for i,v in pairs(gameData)do
        populateTable(v.world.gachaTable, GACHA)
        populateTable(v.world.raids, RAIDS)
        populateTable(v.world.upgradeTable, UPGRADES)
        populateTable(v.world.weaponTable, WEAPONS)
        populateTable(v.world.fighterTable, FIGHTERS)

        --TOKENS
        for _, enemy in pairs(v.enemies) do
            for _, token in pairs(enemy) do
                if not table.find(TOKENS, token) then table.insert(TOKENS, token) end
            end
        end
        for _, gacha in pairs(v.world.gachaTable) do
            if gacha.token and not table.find(TOKENS, gacha.token) then table.insert(TOKENS, gacha.token) end
        end
        for _, upgrade in pairs(v.world.upgradeTable) do
            if upgrade.token and not table.find(TOKENS, upgrade.token) then table.insert(TOKENS, upgrade.token) end
        end

        
        --KEYS
        for name, raid in pairs(v.world.raids) do
            if raid.key and raid.key.type then 
                local type = "Event"
                if raid.key.type == 1 then
                    type = "Exchange_Shop_Keys"
                elseif raid.key.type == 2 then
                    type = "Exchange_Shop_Keys_2"
                end

                KEYINFO[name] = {
                    id = raid.key.id,
                    raid = raid,
                    storeType = type,
                    type = raid.key.type,
                    limit = raid.key.limit,
                    name = name
                }
                table.insert(KEYS, name)
            end
        end

    end
    for _, v in ipairs(WEAPONS) do
        table.insert(WFTABLE, v)
    end

    for _, v in ipairs(FIGHTERS) do
        table.insert(WFTABLE, v)
    end
end
IntData()

local assetsDestroy = {"Trees", "Houses", "Random", "Paths", "Road", "Walls", "Towers", "Buildings"}
local Debris = Workspace:WaitForChild("Debris")
local Monsters = Debris:WaitForChild("Monsters")

-->Functions<--
local function openStar(_star, _amount)
    if not _amount then _amount = 20 end
    local args = {
        [1] = {
            ["Open_Amount"] = _amount,
            ["Action"] = "_Stars",
            ["Name"] = _star
        }
    }

    rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))

end

local function getMonstersNames()
    local t = {}
    for _,v in pairs(Monsters:GetChildren())do
        if v:IsA("Model") and v:GetAttribute("Title") and not table.find(t, v:GetAttribute("Title")) then
            table.insert(t, v:GetAttribute("Title"))
        end
    end
    return t
end

local function getMonsterCount(_inDungeon)
    local count = 0
    for _,v in pairs(Monsters:GetChildren())do
        if v:IsA("Model") and v.PrimaryPart then
            local isDungeonMonster = v:GetAttribute("Is_Dungeon") == true
            if _inDungeon == true and isDungeonMonster then
                count = count + 1
            elseif _inDungeon == false and not isDungeonMonster then
                count = count + 1
            elseif _inDungeon == nil then
                count = count + 1
            end
        end
    end
    return count
end

local function buyKey(_key, _amount)
    _amount = _amount or 1
    local keyInfo = KEYINFO[_key]
    if keyInfo then
        local args = {
            [1] = {
                ["Bench_Name"] = keyInfo.storeType,
                ["Product_Id"] = keyInfo.id,
                ["Action"] = "Merchant_Purchase",
                ["Amount"] = tonumber(_amount)
            }
        }
        print("Brought:", _key, _amount)
        rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
    end
end

local function getClosestMonster(_name, _dungeon)
    if _dungeon == true or _name == "All" then _name = nil end --DISABLES NAME CHECKING
	local closestMonster = nil
	local shortestDistance = math.huge

	for _, v in pairs(Monsters:GetChildren()) do
		if v:IsA("Model") and v.PrimaryPart then
			-- Check Title and dungeon flag
			local isDungeonMonster = v:GetAttribute("Is_Dungeon") == true

			if (not _name or v:GetAttribute("Title") == _name) then
				if (not _dungeon or (_dungeon and isDungeonMonster)) then
					local distance = (v.PrimaryPart.Position - Player.Character:WaitForChild("HumanoidRootPart").CFrame.Position).Magnitude
					if distance < shortestDistance then
						shortestDistance = distance
						closestMonster = v
					end
				end
			end
		end
	end

	return closestMonster
end

local Dungeon = PGui:WaitForChild("Dungeon")
local Dungeon_Header = Dungeon:WaitForChild("Default_Header")
local Dungeon_Notification = Dungeon:WaitForChild("Dungeon_Notification")

local function getCurrentDungeon()
    local Main = Dungeon_Header:WaitForChild("Main"):WaitForChild("Main")
    local waveText = Main.Wave.Text

    return {
        inDungeon = Dungeon_Header.Visible,
        title = Main.Title.Text,
        wave = tonumber(waveText:match("%d+")) or 0, -- 256
        --room = tonumber(Main.Room.Text:match("%d+")) or 0 -- if Room exists
    }
end

local function joinDungeon(_name, _multipler)
    if _multipler and tonumber(_multipler) ~= 1 then
        --Progression_Raid_x2
        _name = _name .. "_x" .. _multipler
    end
    print("Joining:", _name)
    local args = {
        [1] = {
            ["Action"] = "_Enter_Dungeon",
            ["Name"] = _name
        }
    }

    rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
end

local function leaveDungeon()
    local args = {
        [1] = {
            ["Action"] = "Dungeon_Leave"
        }
    }

    rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
end



local function rankUp()
    local args = {
        [1] = {
            ["Upgrading_Name"] = "Rank",
            ["Action"] = "_Upgrades",
            ["Upgrade_Name"] = "Rank_Up"
        }
    }

    rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
end

local function prestige()
    local args = {
        [1] = {
            ["Action"] = "Level_Up_Prestige"
        }
    }

    rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
end

local function attack(_id)
    local args = {
        [1] = {
            ["Id"] = _id,
            ["Action"] = "_Mouse_Click"
        }
    }
    rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
end

local function click()
    local args = {
        [1] = {
            ["Action"] = "_Mouse_Click"
        }
    }
    rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
end

local function getNotifytDungeon()
    local t = {}
    t = {
        isReady = Dungeon_Notification.Visible,
        name = Dungeon_Notification:GetAttribute("Dungeon_Name"),
        reference = Dungeon_Notification
    }
    return t
end

local function teleportToDungeon()
    local args = {
        [1] = {
            ["Action"] = "Dungeon_Teleport_Back"
        }
    }
    rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
end

Auto:Toggle("Auto Rankup",function(bool)
    shared.ToggleARU=bool
    spawn(function()
        while shared.ToggleARU do
            rankUp() task.wait(1)
        end
    end)
end)

Auto:Toggle("Auto Prestige",function(bool)
    shared.ToggleAAP=bool
    spawn(function()
        while shared.ToggleAAP do
            prestige() task.wait(1)
        end
    end)
end)

Auto:Toggle("Auto Click",function(bool)
    shared.ToggleACC=bool
    spawn(function()
        while shared.ToggleACC do
            click() task.wait()
        end
    end)
end)

-------- QUESTS -------------------------------------------------------------------------------------

local function acceptQuest(_num)
    local args = {
        [1] = {
            ["Id"] = tostring(_num),
            ["Type"] = "Accept",
            ["Action"] = "_Quest"
        }
    }

    rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
end

local function completeQuest(_num)
    local args = {
        [1] = {
            ["Id"] = tostring(_num),
            ["Type"] = "Complete",
            ["Action"] = "_Quest"
        }
    }

    game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))    
end

local function favQuest(_num)
    local args = {
        [1] = {
            ["Id"] = tostring(_num),
            ["Type"] = "Favorite",
            ["Action"] = "_Quest"
        }
    }

    game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))

end

local Quests = PGui:WaitForChild("Quests")
local Quests_Screen = PGui:WaitForChild("Quests_Screen")

local Quest_Player = Quests:WaitForChild("Quests_Player")
local Quest_Side_Menu = Quests_Screen:WaitForChild("Quest_Side_Menu")
local QuestList_Side = Quest_Side_Menu:WaitForChild("Quests"):WaitForChild("Main"):WaitForChild("List")
local QuestList = Quest_Player:WaitForChild("ScrollingFrame")

local function contains(_string, _table)
    local lowerString = _string:lower()
    for _, v in pairs(_table) do
        if lowerString:find(v:lower()) then
            return true
        end
    end
    return false
end

local function findMap(_input)
    for i, v in pairs(gameData) do
        for _, e in pairs(v.enemies) do
            if _input and e and e.tokens then
                local isBoss = e.type == "boss"
                local nameMatch = e.name:lower():gsub("_", " ") == _input:lower():gsub("_", " ")
                local tokenMatch = ((v.world.gachaTable[_input] and table.find(e.tokens, v.world.gachaTable[_input].token)) or table.find(e.tokens, _input) or (v.world.upgradeTable[_input] and table.find(e.tokens, v.world.upgradeTable[_input].token)))
                if nameMatch or tokenMatch then
                    return {world = v.world.name, enemy = e.name, tokens = e.tokens, index = i, isBoss = isBoss}
                end
            end
        end
    end
end



local Islands = Workspace:WaitForChild("Islands")
local IslandStuff = Islands:WaitForChild("West City With Pads and Stuff")

local function TeleportMap(_map, _index, _walk, _dungeonCheck)
    _dungeonCheck = _dungeonCheck or true
    local loaded = nil
    local str = ". "
    local folder = Islands

    _walk = true -- TEMP OVERRIDE

    if _map == "Earth_City" then folder = IslandStuff str = str .. _map end

    for _, v in pairs(folder:GetChildren()) do
        if string.find(v.Name, _index .. str) then
            loaded = v
            break
        end
    end
    
    if (_dungeonCheck and getCurrentDungeon().inDungeon == false) and not loaded or not _index then
        local args = {
            [1] = {
                ["Location"] = _map,
                ["Type"] = "Map",
                ["Action"] = "Teleport"
            }
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
        if _walk then
            task.wait(1)
            local hrp = GetHrp()
            Player.Character:WaitForChild("Humanoid"):MoveTo(hrp.Position + hrp.CFrame.LookVector * 1000)
        end
        print("Teleported to:", _map)
    end
end

local function refreshQuest(_time)
    if not _time then _time = 0 end
    local originalPos = Quest_Player.Position
    Quest_Player.Position = UDim2.new(5, 0, 5, 0)
    Quest_Player.Visible = true
    task.wait(_time)
    Quest_Player.Visible = false
    Quest_Player.Position = originalPos
end

local function checkComplete(t)
	if not t or type(t) ~= "table" or next(t) == nil then return false end
	for _, v in pairs(t) do
		if not (v.current and v.max and v.current >= v.max) then
			return false
		end
	end
	return true
end

local function findQuest(_quest)
    refreshQuest()
    for _,v in pairs(QuestList:GetChildren())do
		local num = tonumber(v.Name)
		if num and num > 0 then
            local Objectives = v:WaitForChild("Main"):WaitForChild("Left"):WaitForChild("Objectives")
            for __,_v in pairs(Objectives:GetChildren())do
                local _num = tonumber(_v.Name)
                if _num and _num > 0 then
                    local amount = _v:GetAttribute("__Amount")
                    local description = _v:GetAttribute("__Description")
                    local name = _v:GetAttribute("__Name")

                    local quest = _quest[_num] or nil
                    --PrintTable(quest)
                    --print(amount, "vs", _quest[_num].progress)
                    --print(description, "vs", _quest[_num].description)
                    if quest and amount and amount == quest.progress and description and description == quest.description then
                        return v
                    end
                end
            end
        end
    end
end

local subQuest = {
    {item = "Punching_Machine", match = "punching"}, 
    {item = "Demon_Fruit", match = "demon fruit"}, 
    {item = "The_Order_Briefcase", match = "briefcase"}, 
    {item = "Assassin_Knife", match = "knife"}, 
    {item = "Assassin_Pistol", match = "pistol"}, 
    {item = "Evil_Spirits", match = "evil spirit"},
    {item = "Exorcisms", match = "exorcise"},
    {item = "Lost_Bento_Box", match = "bento"}
}

local function getCurrentQuest()
	local t = {}
	for _, v in pairs(QuestList_Side:GetChildren()) do
		local num = tonumber(v.Name)
		if num and num > 0 then
			local Title = v:FindFirstChild("Title")
			local Progress = v:FindFirstChild("Progress")

			if Title and Progress and Title:IsA("TextLabel") and Progress:IsA("TextLabel") then
				local titleText = Title.Text or ""
				local progressText = Progress.Text or ""

				local name = titleText:match("^%S+%s+(.*)") or titleText
				local type = titleText:match("^(%S+)") or "Unknown"
                local bQuest = false

				if titleText:lower():match("dungeon") then -- DUNGEONS
					name = titleText
					type = "Dungeon"
                elseif titleText:lower():match("stars") then    -- STARS
                    name = (titleText:match("Stars%s+(.*)") or ""):gsub("%s+", "_")
                    type = "Star"
                elseif titleText:lower():match("demon fruit") and not titleText:lower():match("collect") then -- DEMON FRUIT QUEST
					name = titleText
					type = "Demon_Fruit"
                else
                    for _, quest in subQuest do
                        if titleText:lower():match(quest.match:lower())then
                            if quest.item == "Demon_Fruit" and titleText:lower():match("collect") then break end -- DEMON FRUIT QUEST CHECK
                            name = titleText
                            type = quest.item
                            bQuest = true
                            break
                        end
                    end
                end

				local c, m = progressText:match("(%d+)%/(%d+)")
				c, m = tonumber(c) or 0, tonumber(m) or 0
				t[num] = {
					name = name,
					type = type,
					current = c,
					max = m,
                    description = titleText,
                    progress = progressText,
                    isQuest = bQuest
				}
			end
		end
	end

	return t
end


Auto:Toggle("Auto Quest",function(bool)
    shared.ToggleAQ=bool
    spawn(function()
        local currentNum
        while shared.ToggleAQ do

            local quest = getCurrentQuest()
            local completed = checkComplete(quest)
            
            if completed then
                local questNum = findQuest(quest)
                if questNum then
                    local num = questNum.Name
                    local next = tonumber(num) + 1

                    completeQuest(num) task.wait(3)
                    acceptQuest(next) task.wait(0.5)
                    favQuest(next)
                    currentNum = next
                else
                    refreshQuest(2)
                end
            end

            if Quest_Side_Menu.Visible == false and currentNum then
                favQuest(currentNum)
            end
            task.wait(1)
        end
    end)
end)

local function itemFindQuest(_name, timeout)
    timeout = timeout or 5
    local location = Workspace:WaitForChild(_name, timeout) or nil
    if location then
        --[[
        local item = location:GetChildren()[1]
        if not item:FindFirstChild("ProximityPrompt") then
            local hrp = item:FindFirstChild("HumanoidRootPart")
            if hrp then item = hrp else
                local item = item:GetChildren()[1]
            end
        end
        ]]--
        for _,v in pairs(location:GetDescendants())do
            if v:IsA("ProximityPrompt") and v.Parent:IsA("BasePart") then
                --local oldPos = GetPos()
                --MoveTo(item) task.wait(1)
                fireproximityprompt(v)
                --MoveTo(oldPos)
                return true
            end
        end
    else
        return false
    end
end

local qMonster, iMonster
local tempDungeon = {}
Auto:Toggle("Complete Quest",function(bool) -- WIP
    shared.ToggleACQ=bool
    spawn(function()
        while shared.ToggleACQ do
            local quest = getCurrentQuest()
            local completed = checkComplete(quest)
            if not completed then
                local running = false
                for _,v in pairs(quest)do
                    --print(v.current, v.max, v.current >= v.max)
                    if not (v.current and v.max and v.current >= v.max) then
                        local ntype = v.type:lower()
                        --print(_, "running ? ", running, "ntype: ".. ntype, "name: " .. v.name, "type: " .. v.type)
                        if ntype == "defeat" and running == false then  -- ATTACK ENEMY
                            running = true
                            --print("???")
                            local newMonster = v.name:gsub("%s", "_")
                            qMonster = newMonster
                            local mapInfo = findMap(qMonster)
                            if mapInfo then
                                TeleportMap(mapInfo.world, mapInfo.index, mapInfo.isBoss)
                            end
                        elseif ntype == "collect" and running == false then   -- COLLECT TOKENS
                            running = true
                            --print("ye")
                            local mapInfo = findMap(v.name)
                            if mapInfo then
                                TeleportMap(mapInfo.world, mapInfo.index, mapInfo.isBoss)
                                qMonster = mapInfo.enemy:gsub("%s", "_")
                            else
                                print(v.name, "Failed To Find Map")
                            end
                        elseif ntype == "star" then  -- OPEN STARS
                            openStar(v.name)
                        elseif v.isQuest == true then -- FINDING QUEST
                            running = true
                            itemFindQuest(v.type)
                        elseif ntype == "dungeon" then   -- COMPLETE DUNGEON
                            local foundD = false
                            local firstWord = v.name:match("^(%w+)")  -- "Medium"
                            for _, dungeon in pairs(defaultDungeons) do
                                if dungeon:lower():find(firstWord:lower()) and not table.find(tempDungeon, firstWord) then
                                    foundD = true
                                    print("Adding:", dungeon, "to temp Dungeons") table.insert(tempDungeon, dungeon)
                                    break
                                end
                            end
                            if not foundD then
                                for _,dungeon in pairs(RAIDS) do
                                    if dungeon:lower():find(firstWord:lower()) and shared.ToggleJD then
                                        -- Join Raid
                                        print("Adding:", dungeon, "to temp Dungeons")
                                        local dungeonInfo = getCurrentDungeon()
                                        if dungeonInfo and dungeonInfo.inDungeon == false then
                                            joinDungeon(dungeon)
                                            task.wait(1)
                                        end
                                        break
                                    end
                                end
                            end
                            qMonster = "All"
                        end
                    end
                end
            else
                task.wait(6)
            end
            task.wait(1)
        end
    end)
end)


Auto:Button("Possible Quests",function()
    spawn(function()
        for i = 1, questAmount do
            acceptQuest(i) task.wait()
        end
    end)
end)


--------------------------------------------------------------------------------------------------

Auto:Button("Delete",function()
    spawn(function()
        for _, v in pairs(Workspace:GetDescendants()) do
            if (v:IsA("Folder") or v:IsA("Model") or v:IsA("BasePart")) and contains(v.Name, assetsDestroy) then
                v:Destroy()
            end
        end
    end)
end)


local __dungeons = Workspace:WaitForChild("Dungeons")
local function getLabDoor()
    local s
    local t = {}

    local dType
    local lastDoor
    local dungeonInfo = getCurrentDungeon()
    if dungeonInfo.title:lower():match("maze") then 
        dType = "maze"
    elseif dungeonInfo.title:lower():match("labyrinth") then
        dType = "labyrinth"
    end

    for _,v in pairs(__dungeons:GetChildren())do
        if v.Name:lower():match(dType) then
            s = v break
        end
    end
    for _,v in pairs(s:GetChildren()) do
        local doors = v:FindFirstChild("Doors")
        if doors then
            for __,_v in pairs(doors:GetChildren())do
                local _door = _v:FindFirstChild("Door")
                if _door then
                    local prox = _door:FindFirstChild("Prompt")
                    local isEarly = _door.BrickColor == BrickColor.new("Persimmon")
                    if prox and prox.Enabled then
                        t = {
                            dungeon = v,
                            model = _v,
                            door = _door,
                            prompt = prox
                        }
                        if not isEarly then
                            return t
                        else
                            if not lastDoor then lastDoor = t end
                        end
                    end
                end
            end
        end
    end
    return lastDoor
end

local sMonster, gMonster, uMonster
local EmenyNameList = getMonstersNames()
local EmenyList = Auto:Dropdown("Select Emeny",{"All",unpack(EmenyNameList)},true,function(SItem) --true/false, replaces the current title "Dropdown" with the option that t
    sMonster = SItem
end)


task.spawn(function()
	while task.wait(0.1) do
		if shared.ToggleAA or shared.ToggleAD or shared.ToggleACQ or shared.ToggleAFG or shared.ToggleAFU or  shared.ToggleSAA then
			local cMonster, mode
			local dungeon = getCurrentDungeon()
            if shared.ToggleSAA and iMonster and dungeon and dungeon.inDungeon == false then -- INDEX
                cMonster = getClosestMonster(iMonster) mode = "AI"
            elseif shared.ToggleACQ and qMonster and dungeon and dungeon.inDungeon == false then -- QUESTS
                cMonster = getClosestMonster(qMonster) mode = "QA"
            elseif shared.ToggleAFG and gMonster and dungeon and dungeon.inDungeon == false then -- GACHAS
                cMonster = getClosestMonster(gMonster) mode = "GA"
            elseif shared.ToggleAFU and uMonster and dungeon and dungeon.inDungeon == false then -- UPGRADES
                cMonster = getClosestMonster(uMonster) mode = "UA"
			elseif shared.ToggleAA and dungeon and dungeon.inDungeon == false then
				cMonster = getClosestMonster(sMonster) mode = "AA"
			elseif shared.ToggleAD and dungeon and dungeon.inDungeon == true then
				cMonster = getClosestMonster(nil, true) mode = "AD"
			end
			if cMonster then
				Player.Character:FindFirstChild("HumanoidRootPart").CFrame = cMonster.PrimaryPart.CFrame * CFrame.new(0, 0, 2)
                local startTime = os.clock()

                repeat
                    local dungeon = getCurrentDungeon()

                    if cMonster and cMonster.Parent then
                        attack(cMonster.Name)
                    else    
                        break
                    end
                    
                    if ((mode == "QA" or mode == "GA" or mode == "UA" or mode == "AI") and dungeon.inDungeon == true) or os.clock() - startTime >= 30 then
                        qMonster = nil
                        gMonster = nil
                        uMonster = nil
                        break
                    end

                    task.wait()
                until (mode == "AA" and not shared.ToggleAA)
                    or (mode == "AD" and not shared.ToggleAD)
                    or (mode == "QA" and not shared.ToggleACQ)
                    or (mode == "GA" and not shared.ToggleAFG)
                    or (mode == "UA" and not shared.ToggleAFU)
                    or (mode == "AI" and not shared.ToggleSAA)
            elseif mode == "AD" and dungeon.inDungeon == true then
                if dungeon.title:lower():match("labyrinth") or dungeon.title:lower():match("maze") then
                    local currentDoor = getLabDoor()
                    if currentDoor then
                        local vec = Vector3.new(0,-9,0)
                        if dungeon.title:lower():match("maze") then vec = Vector3.new(0,-3,0) end
                        MoveTo(currentDoor.door, vec) task.wait(1)
                        fireproximityprompt(currentDoor.prompt) task.wait(2)
                        -- If no Door found then reenter and walk forward
                    end
                end
			end
            
		end
	end
end)

Auto:Toggle("Auto Attack",function(bool)
    shared.ToggleAA=bool
end)




Auto:Button("Redeem Codes",function()
    spawn(function()
        for _,v in pairs(CODES)do
            local args = {
                [1] = {
                    ["Action"] = "_Redeem_Code",
                    ["Text"] = v
                }
            }
            rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args)) task.wait(1)
        end
    end)
end)

Auto:Button("Other",function()
    spawn(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/AIHub091/AI-Hub/refs/heads/main/Anime-Eternal/Script.lua"))()
    end)
end)

local triggeredAD
RaidMenu:Toggle("Auto Dungeon",function(bool)
    shared.ToggleAD=bool
    triggeredAD = false
end)

local sDungeon = ""
local sDungeons = {}
local Dungeons = table.clone(defaultDungeons)


local DungeonList = RaidMenu:Dropdown("Select Dungeon",Dungeons,true,function(SItem)
    sDungeon = SItem
end)

RaidMenu:Button("Add/Remove",function()
    spawn(function()
        if not table.find(sDungeons, sDungeon) then
            table.insert(sDungeons, sDungeon)
            print("Added:", sDungeon)

            -- REMOVE FROM TABLE
            local pos = RemoveFromTable(Dungeons, sDungeon)
            sDungeon = Dungeons[pos]
            DungeonList:Refresh(Dungeons)
            
        end
    end)
end)

RaidMenu:Button("Reset",function()
    spawn(function()
        sDungeons = {}
        Dungeons = table.clone(defaultDungeons)
        DungeonList:Refresh(Dungeons)
    end)
end)


local blacklistWalk = {"Leaf_Raid"}
RaidMenu:Toggle("Join Dungeons",function(bool)
    shared.ToggleJD=bool
    spawn(function()
        while shared.ToggleJD do
            local dungeon = getNotifytDungeon()
            local dungeonInfo = getCurrentDungeon()
            if dungeonInfo and dungeonInfo.inDungeon == false and dungeon and dungeon.isReady and (table.find(sDungeons, dungeon.name) or table.find(tempDungeon, dungeon.name)) then
                if next(tempDungeon) ~= nil then
                    if table.find(tempDungeon, dungeon.name) then 
                        print("Removed:", dungeon.name) 
                        RemoveFromTable(tempDungeon, dungeon.name)
                        if not shared.ToggleAD then shared.ToggleAD = true triggeredAD = true end
                    end
                else
                    if triggeredAD then shared.ToggleAD = false end
                end
                task.wait(1)
                joinDungeon(dungeon.name)
                dungeon.reference.Visible = false
                if not table.find(blacklistWalk, dungeon.name) then
                    task.wait(1)
                    local hrp = GetHrp()
                    Player.Character:WaitForChild("Humanoid"):MoveTo(hrp.Position + hrp.CFrame.LookVector * 100000)
                end

                repeat task.wait() dungeonInfo = getCurrentDungeon() until dungeonInfo.inDungeon == false or not shared.ToggleJD
                task.wait(1)
                if triggeredAD then 
                    shared.ToggleAD = false 
                    triggeredAD = false 
                    task.wait(1)
                    for i = 2000, 2010 do
                        completeQuest(i) task.wait(0.1)
                    end
                    
                end

            elseif dungeon and dungeon.isReady then
                --dungeon.reference.Visible = false
            end
            task.wait(1)
        end
    end)
end)

local sRaid
local leaveRaidNum = 0
local buyKeyRM = false
local RaidList = RaidMenu:Dropdown("Select Raid",RAIDS,true,function(SItem)
    sRaid = SItem
end)

local rMultipler = 1
local gMDropList = RaidMenu:Dropdown("Multipler",{1,2,3},true,function(SItem) --true/false, replaces the current title "Dropdown" with the option that t
    rMultipler = SItem
end)

RaidMenu:Toggle("Auto Raid",function(bool)
    shared.ToggleAR=bool
    spawn(function()
        while shared.ToggleAR do
            local currentRaid = getCurrentDungeon()
            if sRaid and currentRaid and currentRaid.inDungeon == false then
                if buyKeyRM then buyKey(sRaid) end
                task.wait(2)
                joinDungeon(sRaid, rMultipler) task.wait(2)
                repeat task.wait(1) 
                    currentRaid = getCurrentDungeon()
                    if shared.ToggleRAL and currentRaid.wave then
                        --print(currentRaid.wave, " : ", leaveRaidNum)
                        if leaveRaidNum > 0 and currentRaid.wave >= leaveRaidNum then
                            leaveDungeon()
                        end
                    end
                until not shared.ToggleAR or currentRaid.inDungeon == false
            end
            task.wait(1)
        end
    end)
end)

RaidMenu:Toggle("Buy Key",function(bool)
    shared.ToggleRMBK=bool
    spawn(function()
        buyKeyRM = shared.ToggleRMBK
    end)
end)

RaidMenu:Slider("Wave",{
    min = 1; max = 1000; precise = true;
},function(value)
    leaveRaidNum = value
end)

RaidMenu:Toggle("Auto Leave",function(bool)
    shared.ToggleRAL=bool
end)


---------------------------------- GACHA MENU ----------------------------------------------------------------------
---
---

local Rolling_UI = PGui:WaitForChild("Rolling_UI")
local Currency_Field = Rolling_UI:WaitForChild("Currency_Field")

local function getTokenStats()
    Currency_Field.Visible = true
    local nameLabel = Currency_Field:FindFirstChild("TopName")
    local amountLabel = Currency_Field:FindFirstChild("TextLabel")
    
    --local name = (Currency_Field:GetAttribute("Id") or (nameLabel and nameLabel.Text) or ""):gsub("_", " ")
    local name = Currency_Field:GetAttribute("Tips") or (nameLabel and nameLabel.Text) or ""
    local amount = fromSuffixString(amountLabel and amountLabel.Text or "0") or 0

    return { name = name, amount = amount }
end

local function getTokenType(_gacha)
    for _,v in pairs(gameData)do
        local t = v.world.gachaTable[_gacha] or (v.world.weaponTable and v.world.weaponTable[_gacha]) or (v.world.fighterTable and v.world.fighterTable[_gacha])
        if t then return t.token end
    end
end

local Inventory = PGui:WaitForChild("Inventory_1")
local Hub = Inventory:WaitForChild("Hub")
local Powers = Hub:WaitForChild("Powers")
local PowersList = Powers:WaitForChild("List_Frame"):WaitForChild("List")

local function getBestPower(_gacha)
    for _, v in pairs(gameData or {}) do
        local g = v.world and v.world.gachaTable and v.world.gachaTable[_gacha]
        if g and g.list and #g.list > 0 then
            return g.list[#g.list]  -- last item in the list
        end
    end
end

local function getPowerName(_power)
    local Inside = _power:FindFirstChild("Inside")
    if Inside then
        local Title = Inside:FindFirstChild("Title")
        if Title then return Title.Text end
    end
end

local function checkUnlockedPower(_power)
    --Hub.Visible = true
    --Powers.Visible = true
    for _,v in pairs(PowersList:GetChildren())do
        if v:IsA("ImageButton") then
            local powerName = getPowerName(v)
            if powerName and _power and powerName:lower() == _power:lower() then
                return true
            end
        end
    end
end

local function openGacha(_gacha, _amount)
    local token = getTokenStats()
    local tokenName = getTokenType(_gacha)
    if token and (token.name ~= tokenName or (token.name == tokenName and token.amount > 10)) then
        local bPower = getBestPower(_gacha)
        local unlocked = checkUnlockedPower(bPower)
        if not unlocked then
            local args = {
                [1] = {
                    Open_Amount = tonumber(_amount) or 1,
                    Action = "_Gacha_Activate",
                    Name = _gacha
                }
            }
            rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
        end
    end
end

GachaMenu:Toggle("Show Currency",function(bool)
    shared.ToggleSC=bool
    spawn(function()
        while shared.ToggleSC do
            if Currency_Field and shared.ToggleSC then
                Currency_Field.Visible = true
            end
            task.wait(0.5)
        end
    end)
end)

local sGacha
local DropListG1 = GachaMenu:Dropdown(sGachaAmount,{1,2,3,4,5,6},true,function(SItem)
    sGachaAmount = SItem
end)

local DropListG2 = GachaMenu:Dropdown("Select Gacha",{"All", unpack(GACHA)},true,function(SItem)
    sGacha = SItem
end)


GachaMenu:Toggle("Auto Gacha",function(bool)
    shared.ToggleAG=bool
    spawn(function()
        while shared.ToggleAG do
            if sGacha then
                if sGacha == "All" then
                    for _,v in pairs(GACHA) do
                        openGacha(v, sGachaAmount) task.wait(0.3)
                    end
                else
                    openGacha(sGacha, sGachaAmount)
                end
            end
            task.wait(1)
        end
    end)
end)



local sGSelect = "Selected"
local gFarmType = {"Selected", "Best"}
local ggDropList = GachaMenu:Dropdown(sGSelect,gFarmType,true,function(SItem)
    sGSelect = SItem
end)

local tempSSelect
--local blackListGacha = {"Mushi_Bite", "Geass_Potential", "Witch_Authority"}
local blackListGacha = {"Witch_Authority", "Geass_Potential"}
GachaMenu:Toggle("Auto Farm",function(bool)
    shared.ToggleAFG=bool
    spawn(function()
        while shared.ToggleAFG do
            
            if sGacha and sGSelect == "Selected" then
                tempSSelect = sGacha
            elseif sGSelect == "All" then
                -- find the next gacha to farm
                
            elseif sGSelect == "Best" then
                -- find the next best gacha to farm
                for _,v in pairs(GACHA)do
                    if not table.find(blackListGacha, v) then
                        local bPower = getBestPower(v)
                        local unlocked = checkUnlockedPower(bPower)
                        if not unlocked then
                            if tempSSelect ~= v then print(tempSSelect, "Switching To:", v) end
                            tempSSelect = v
                            break
                        end
                    end
                end
            end

            if tempSSelect then
                local mapInfo = findMap(tempSSelect)
                if sGSelect ~= "Selected" then openGacha(tempSSelect, sGachaAmount) end
                if mapInfo then
                    gMonster = mapInfo.enemy
                    TeleportMap(mapInfo.world, mapInfo.index, mapInfo.isBoss)
                else
                    --print("Gacha: Map Data Coulde not be Found For:", tempSSelect)
                end
            end
            task.wait(1)
        end
    end)
end)



----------------------------------------------------------------------------------------------------------------------
---------------------------------- UPGRADE MENU ----------------------------------------------------------------------

local function getCustomName(_upgrade)
    for _,v in pairs(gameData)do
        local t = v.world.upgradeTable[_upgrade]
        if t then
            return t.Upgrading_Name, t.bench
        end
    end
end

local function openUpgrade(_upgrade)
    local _name, _bench = getCustomName(_upgrade)

    if _upgrade:find("Sin_Upgrades") then _upgrade = "Sin_Upgrades" --FOR SIN UPGRADES
    elseif _upgrade:find("Science_Upgrades") then _upgrade = "Science_Upgrades" end -- FOR Science UPGRADES

    if not _name then _name = _upgrade end
    if not _bench then
        local args = {
            [1] = {
                ["Upgrading_Name"] = _name,
                ["Action"] = "_Upgrades",
                ["Upgrade_Name"] = _upgrade
            }
        }

        rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
    else
        local args = {
            [1] = {
                ["Bench_Name"] = _upgrade,
                ["Action"] = "_Progression",
                ["Upgrade_Name"] = _name
            }
        }
        rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
    end
end

local sUpgrade
local DropListU = UpgradeMenu:Dropdown("Select Upgrade",{"All", unpack(UPGRADES)},true,function(SItem)
    sUpgrade = SItem
end)

UpgradeMenu:Toggle("Auto Upgrade",function(bool)
    shared.ToggleAU=bool
    spawn(function()
        while shared.ToggleAU do
            if sUpgrade then
                if sUpgrade == "All" then
                    for _,v in pairs(UPGRADES)do
                        openUpgrade(v) task.wait(0.3)
                    end
                else
                    openUpgrade(sUpgrade)
                end
                
            end
            task.wait(1)
        end
    end)
end)


UpgradeMenu:Toggle("Farm Token",function(bool)
    shared.ToggleAFU=bool
    spawn(function()
        while shared.ToggleAFU do
            if sUpgrade then
                local mapInfo = findMap(sUpgrade)
                if mapInfo then
                    uMonster = mapInfo.enemy
                    TeleportMap(mapInfo.world, mapInfo.index, mapInfo.isBoss)
                else
                    print("Upgrade: Map Data Coulde not be Found For:", sUpgrade)
                end
            end
            task.wait(1)
        end
    end)
end)

local supgrade2
local DropListU2 = UpgradeMenu:Dropdown("Select Weapon/Fighter",WFTABLE,true,function(SItem)
    supgrade2 = SItem
end)

UpgradeMenu:Toggle("Auto Buy",function(bool)
    shared.ToggleABU=bool
    spawn(function()
        while shared.ToggleABU do
            if supgrade2 then
                openGacha(supgrade2, sGachaAmount)
            end
            task.wait(1)
        end
    end)
end)
----------------------------------------------------------------------------------------------------------------------
---------------------------------- SHOP MENU ----------------------------------------------------------------------

local sKey
local sKeyAmount = 1
local DropListShopAmount = ShopMenu:Dropdown(sKeyAmount,{1,2,3,4,5},true,function(SItem)
    sKeyAmount = SItem
end)

local DropListShop = ShopMenu:Dropdown("Select Key",KEYS,true,function(SItem)
    sKey = SItem
end)

ShopMenu:Button("Buy Key",function()
    spawn(function()
        if sKey then
            buyKey(sKey, sKeyAmount)
        end
    end)
end)



--------------------------------------------------------------------------------------------------------------------
---------------------------------- DAILY MENU ----------------------------------------------------------------------

local function buyLimitedKeys(_type)
    if _type then
        for key,v in pairs(KEYINFO)do
            if v.limit and v.type == _type then
                for i = 1, v.limit do 
                    buyKey(key, 1) task.wait(0.2)
                end
            end
        end
    end
end

DailyMenu:Button("Daily Quests",function()
    spawn(function()
        for i = 2000, 2010 do
            acceptQuest(i) task.wait(0.1)
        end
        for _,v in pairs(defaultDungeons)do
            if not table.find(blacklistWalk, v) and not table.find(tempDungeon, v) then
                print("Adding:", v, "to temp Dungeons")
                table.insert(tempDungeon, v)
            end
        end
    end)
end)


DailyMenu:Button("Buy Keys #1",function()
    spawn(function()
        buyLimitedKeys(1)
    end)
end)

DailyMenu:Button("Buy Keys #2",function()
    spawn(function()
        buyLimitedKeys(2)
    end)
end)

DailyMenu:Button("Running Track",function()
    spawn(function()
        buyKey("Running_Track_Raid", 1)
        joinDungeon("Running_Track_Raid")
        task.wait(2)
        local dungInfo = getCurrentDungeon()
        if dungInfo.inDungeon == true then
            local changedBool = false
            if not shared.ToggleAD then
                shared.ToggleAD = true
                changedBool = true
            end
            repeat task.wait() dungInfo = getCurrentDungeon() until dungInfo.inDungeon == false or not shared.ToggleAD
            if changedBool then shared.ToggleAD = false end task.wait(5)
            openUpgrade("Running_Track_Progression") 
        end
    end)
end)

DailyMenu:Button("Punch Machine",function()
    spawn(function()
        acceptQuest(2301)
        if itemFindQuest("Punching_Machine") then
            task.wait(2)
            completeQuest(2301) task.wait(5)
            openUpgrade("Hide_n_Punch_Progression")
        end
    end)
end)

DailyMenu:Button("Demon Fruit",function()
    spawn(function()
        acceptQuest(2302)
        if itemFindQuest("Demon_Fruit") then
            task.wait(2)
            completeQuest(2302)
        end
    end)
end)

DailyMenu:Toggle("Exorcisms",function(bool)
    shared.ToggleDME=bool
    spawn(function()
        while shared.ToggleDME do
            acceptQuest(2303)
            if itemFindQuest("Exorcisms") then
                task.wait(2)
                completeQuest(2303)
            end
            task.wait(1)
        end
    end)
end)

DailyMenu:Button("Bento Box",function()
    spawn(function()
        acceptQuest(2305)
        if itemFindQuest("Lost_Bento_Box") then
            task.wait(2)
            completeQuest(2305)
        end
    end)
end)


--------------------------------------------------------------------------------------------------------------------
---------------------------------- STAR MENU ----------------------------------------------------------------------
local sStar
local starTable = {}
for i = 1, (#gameData) do
    table.insert(starTable, "Star_"..i)
end
local starList = StarsMenu:Dropdown("Select Star",starTable,true,function(SItem)
    sStar = SItem
end)

StarsMenu:Toggle("Auto Hatch",function(bool)
    shared.ToggleSAH=bool
    spawn(function()
        while shared.ToggleSAH do
            if sStar then
                openStar(sStar)
            end
            task.wait(1)
        end
    end)
end)


--------------------------------------------------------------------------------------------------------------------
------------------------------------- STAT MENU ----------------------------------------------------------------------
local function upgradeStat(_stat)
    local args = {
        [1] = {
            ["Name"] = _stat, --"Primary_Damage", "Primary_Energy", "Primary_Coins", "Primary_Luck"
            ["Action"] = "Assign_Level_Stats",
            ["Amount"] = 1
        }
    }

    game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
end

StatsMenu:Toggle("Damage",function(bool)
    shared.ToggleSD=bool
    spawn(function()
        while shared.ToggleSD do
           upgradeStat("Primary_Damage") task.wait(1)
        end
    end)
end)

StatsMenu:Toggle("Energy",function(bool)
    shared.ToggleSE=bool
    spawn(function()
        while shared.ToggleSE do
           upgradeStat("Primary_Energy") task.wait(1)
        end
    end)
end)


StatsMenu:Toggle("Coins",function(bool)
    shared.ToggleSCC=bool
    spawn(function()
        while shared.ToggleSCC do
           upgradeStat("Primary_Coins") task.wait(1)
        end
    end)
end)


StatsMenu:Toggle("Luck",function(bool)
    shared.ToggleSL=bool
    spawn(function()
        while shared.ToggleSL do
           upgradeStat("Primary_Luck") task.wait(1)
        end
    end)
end)

local function toggleAutoDelete(_bool, _id, _index)
    local args = {
        [1] = {
            ["Value"] = _bool, -- false for off
            ["Path"] = {
                [1] = "Settings",
                [2] = "AutoDelete",
                [3] = "Stars",
                [4] = _id .. "",
                [5] = _index .. ""
            },
            ["Action"] = "Settings"
        }
    }

    game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
end

local champIndex = PGui:WaitForChild("Index")
local Index_Hub = champIndex:WaitForChild("Index_Hub")

local Champion_Index = Index_Hub:WaitForChild("Pets_Index")
local Avatars_Index = Index_Hub:WaitForChild("Avatars_Index")

local function initIndex(_index)
    if not _index then return end

    local _main = _index:WaitForChild("Main")
    local worlds = _main:WaitForChild("Left"):WaitForChild("ScrollingFrame")
    local items = _main:WaitForChild("Right"):WaitForChild("ScrollingFrame")

    return {worlds = worlds, items = items}
end

local function getIndexNumber(item, sorted)
    for i, v in ipairs(sorted) do
        if v == item then
            return i
        end
    end
end

local function getIndexItems(_frames, _world)
    if not _frames or not _frames.items or not _frames.worlds then return end
    if _world then
        local btn = _frames.worlds:FindFirstChild(_world)
        if btn then SendClick(btn) task.wait() end
    end
    local visible = {}
    for _, v in ipairs(_frames.items:GetChildren()) do
        if v:IsA("ImageButton") and v.Visible then
            table.insert(visible, v)
        end
    end
    table.sort(visible, function(a, b)
        return a.LayoutOrder < b.LayoutOrder
    end)
    local t = {}
    for _, v in ipairs(visible) do
        local name = v:GetAttribute("__Name")
        table.insert(t, {
            id = v:GetAttribute("___Id") or "Unknown_Id",
            name = name or "Unknown_Name",
            locked = name == "???",
            button = v,
            index = getIndexNumber(v, visible)
        })
    end

    return t
end

local ChampionFrames = initIndex(Champion_Index)
local AvatarsFrames = initIndex(Avatars_Index)

StatsMenu:Label("Auto Index",{
    TextSize = 25;
    TextColor = Color3.fromRGB(255,255,255);
    BgColor = Color3.fromRGB(69,69,69);
    
})

StatsMenu:Toggle("Auto Pets",function(bool)
    shared.ToggleSAP=bool
    spawn(function()
        local autoDeletePet = {}
        local completedIndex = {}
        while shared.ToggleSAP do
            local isBreak = false
            for i = 1, #gameData do
                if not shared.ToggleSAP then break end
                if not table.find(completedIndex, i) then
                    local items = getIndexItems(ChampionFrames, i) or {}
                    for _,v in pairs(items) do
                        if v.locked == true then
                            --print(i, "Isnt Completed")
                            toggleAutoDelete(false, v.id, v.index) task.wait(0.1)
                            openStar("Star_"..i)
                            isBreak = true break
                        else
                            if not table.find(autoDeletePet, v.id) then
                                table.insert(autoDeletePet, v.id)
                                toggleAutoDelete(true, v.id, v.index) task.wait()
                            end
                        end
                    end
                    
                    if isBreak then break else table.insert(completedIndex, i) end
                end
            end
            task.wait(1)
        end
    end)
end)

local function checkAvIndex(_index, _world)
    local enemies = gameData[_world].enemies
    if not enemies or not _index then return nil end
    local eList = {}
    for _,v in pairs(_index)do
        local eName = (v.name or ""):gsub("^%[Av%]%s*", ""):gsub("%s+", "_")
        table.insert(eList, eName)
    end
    for _,v in pairs(enemies)do
        if not table.find(eList, v.name) then
            return v.name
        end
    end
end

StatsMenu:Toggle("Auto Ava",function(bool)
    shared.ToggleSAA=bool
    spawn(function()
        local completedIndex = {}
        while shared.ToggleSAA do
            local isBreak = false
            for i = 1, #gameData do
                if not shared.ToggleSAA then break end
                if not table.find(completedIndex, i) then
                    local items = getIndexItems(AvatarsFrames, i) or {}
                    for _,v in pairs(items)do
                        if v.locked == true then
                            local newMonster = (checkAvIndex(items, i) or "")
                            --print(newMonster)
                            iMonster = newMonster
                            local mapInfo = findMap(iMonster)
                            if mapInfo then
                                TeleportMap(mapInfo.world, mapInfo.index, mapInfo.isBoss)
                            else
                                print(iMonster, "Map Not Found")
                            end
                            isBreak = true break
                        end
                    end
                    if isBreak then break else table.insert(completedIndex, i) end
                end
            end
            task.wait(1)
        end
    end)
end)

----------------------------------------------------------------------------------------------------------------------
---------------------------------- Exhange ----------------------------------------------------------------------------
--[[
ExchangeMenu:Button("Toggle Exchange 1",function()
    spawn(function()
    end)
end)

ExchangeMenu:Button("Toggle Shop 1",function()
    spawn(function()
    end)
end)

ExchangeMenu:Button("Toggle Exchange 2",function()
    spawn(function()
    end)
end)

ExchangeMenu:Button("Toggle Shop 2",function()
    spawn(function()
    end)
end)
--]]
----------------------------------------------------------------------------------------------------------------------
---------------------------------- CHESTS ----------------------------------------------------------------------------
local function claimChest(_chest)
    local args = {
        [1] = {
            ["Action"] = "_Chest_Claim",
            ["Name"] = _chest -- Daily , Group, Vip, "Premium"
        }
    }

    rs:WaitForChild("Events"):WaitForChild("To_Server"):FireServer(unpack(args))
end


ChestMenu:Toggle("Daily Chest",function(bool)
    shared.ToggleCDC=bool
    spawn(function()
        while shared.ToggleCDC do
            claimChest("Daily") task.wait(60)
        end
    end)
end)
ChestMenu:Toggle("Group Chest",function(bool)
    shared.ToggleCGC=bool
    spawn(function()
        while shared.ToggleCGC do
            claimChest("Group") task.wait(60)
        end
    end)
end)
ChestMenu:Toggle("VIP Chest",function(bool)
    shared.ToggleCVC=bool
    spawn(function()
        while shared.ToggleCVC do
            claimChest("Vip") task.wait(60)
        end
    end)
end)
ChestMenu:Toggle("Premium Chest",function(bool)
    shared.ToggleCPC=bool
    spawn(function()
        while shared.ToggleCPC do
            claimChest("Premium") task.wait(60)
        end
    end)
end)
ChestMenu:Toggle("Christmas",function(bool)
    shared.ToggleCPCC=bool
    spawn(function()
        while shared.ToggleCPCC do
            claimChest("Christmas_Chest") task.wait(60)
        end
    end)
end)
ChestMenu:Toggle("Santa Chest",function(bool)
    shared.ToggleCSCA=bool
    spawn(function()
        while shared.ToggleCSCA do
            claimChest("Santa_Chest") task.wait(60)
        end
    end)
end)
ChestMenu:Toggle("Ice Chest",function(bool)
    shared.ToggleIC=bool
    spawn(function()
        while shared.ToggleIC do
            claimChest("Ice_Chest") task.wait(60)
        end
    end)
end)
ChestMenu:Toggle("Christmas Tree",function(bool)
    shared.ToggleCTC=bool
    spawn(function()
        while shared.ToggleCTC do
            claimChest("Christmas_Tree_Chest") task.wait(60)
        end
    end)
end)
----------------------------------------------------------------------------------------------------------------------
--------------------------------------WEB HOOK----------------------------------------------------------



WebhookMenu:Box("Webhook:","string",function(value) -- "number" or "string"
    shared.WH_webhookLink = value
    saveFile(dataToSave)
end)

WebhookMenu:Toggle("Best Gacha",function(bool)
    shared.ToggleWHBG=bool
    WH_bestGacha = shared.Toggle
    saveFile(dataToSave)
end)

WebhookMenu:Toggle("Quest Complete",function(bool)
    shared.ToggleWHQC=bool
    WH_questComplete = shared.Toggle
    saveFile(dataToSave)
end)







----------------------------------------------------------------------------------------------------------------------




spawn(function()
    while task.wait(1) do
        EmenyNameList = getMonstersNames()
        EmenyList:Refresh({"All",unpack(EmenyNameList)})
    end
end)

dataToSave = {

    ["Webhook:"] = {var = "WH_webhookLink"},

    ["Best Gacha"] = {var = "ToggleWHBG"},
    ["Quest Complete"] = {var = "ToggleWHQC"},


    ["Daily Chest"] = {var = "ToggleCDC"},
    ["Group Chest"] = {var = "ToggleCGC"},
    ["VIP Chest"] = {var = "ToggleCVC"},
    ["Premium Chest"] = {var = "ToggleCPC"},

    ["Auto Rankup"] = {var = "ToggleARU"},
    ["Join Dungeons"] = {var = "ToggleJD"},
    ["Auto Prestige"] = {var = "ToggleAAP"},
    ["Auto Click"] = {var = "ToggleACC"},

    ["Buy Key"] = {var = "ToggleRMBK"},
    ["Christmas"] = {var = "ToggleCPCC"},
    ["Santa Chest"] = {var = "ToggleCSCA"},
    ["Ice Chest"] = {var = "ToggleIC"},
    ["Christmas Tree"] = {var = "ToggleCTC"}
} SaveManager(dataToSave)