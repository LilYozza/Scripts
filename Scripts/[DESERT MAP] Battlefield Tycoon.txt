local library = loadstring(game:HttpGet(('https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/UILibrary.txt')))()w = library:CreateWindow("Main")

local Players=game:GetService("Players")
local Player=game.Players.LocalPlayer

local Auto = w:CreateFolder("Auto")

-->Base Variables<--
local Tycoon
local Tycoons=Workspace:WaitForChild("Game"):FindFirstChild("Tycoons")

-->Currency Prompt Fix<--
if Player.PlayerGui:FindFirstChild("CurrencyShop")then Player.PlayerGui.CurrencyShop.Enabled=false end

-->Non Return Functions<--
local function Touch(p,t)firetouchinterest(Player.Character:WaitForChild("HumanoidRootPart"),p,0)firetouchinterest(Player.Character:WaitForChild("HumanoidRootPart"),p,1)task.wait(t)end
local function MoveTo(p,offset)Player.Character:WaitForChild("HumanoidRootPart").CFrame=p.CFrame+offset end
local function GetTycoon()for _,v in pairs(Tycoons:GetChildren())do if v:FindFirstChild("Owner") and v.Owner.Value==Player then Tycoon=v break end end end

-->Return Functions<--
local function Timer(t)task.wait(t)return true end
local function fromSuffixString(s) local suffixes = {"K", "M", "B", "T", "Q"} found = false if s == "0" then return 0 end if s:match("$") then s = string.gsub(s, '%$', "") end if s:match(",") then s = string.gsub(s, '%,', "") end if s:match("+") then s = string.gsub(s, '%+', "") end for i, value in ipairs(suffixes) do if s:match(value) then found = true end end if found == false then return tonumber(s) end local n, suffix = string.match(s, "(.*)(%a)$") if n and suffix then local i = table.find(suffixes, suffix) or 0 return tonumber(n) * math.pow(10, i * 3) end return tonumber(s) end

-->Waiting For Data<--
repeat GetTycoon()task.wait()until Tycoon

-->Post Variables<--
local Buttons=Tycoon:WaitForChild("Buttons")
local Models=Tycoon:WaitForChild("Models")

-->Player Data<--
local PlayerMoney=Player.PlayerGui.Interfaceleft.LeftStatPanel.Currency.currency

Auto:Toggle("Auto Buy",function(bool)
    shared.ToggleAB=bool
    spawn(function()
        while shared.ToggleAB do local s,e=pcall(function()
            for _,v in pairs(Buttons:GetChildren())do
                if shared.ToggleAB and v:FindFirstChild("Outer") and v.Outer.Transparency==0 and v:FindFirstChild("Cost") and not v:FindFirstChild("Gamepass")then
                    --Value Check
                    if v.Cost.Value<=fromSuffixString(PlayerMoney.Text) then Touch(v.Outer,0.3)end
                end 
            end if Player.PlayerGui:FindFirstChild("CurrencyShop")then Player.PlayerGui.CurrencyShop.Enabled=false end
            task.wait()end)task.wait()if not s then print(e)end
        end
    end)
end)

Auto:Toggle("Auto Soldiers",function(bool)
    shared.ToggleAS=bool
    spawn(function()
        while shared.ToggleAS do local s,e=pcall(function()
            for _,v in pairs(Buttons:GetChildren())do
                if shared.ToggleAS and v:FindFirstChild("Outer") and v.Outer.Transparency==0 and v:FindFirstChild("Cost") and not v:FindFirstChild("Gamepass")then
                    
                    --Setting Variables
                    --print("#####Task 1#####")
                    local price=v.Cost.Value local BName
                    if v.Name:match("Support")then price=800 BName="Sniper" end 
                    if v.Name:match("Infantry")then price=20 BName="Rifleman" end 
                    if v.Name:match("Armor")then price=1500 BName="Willy Jeep" end
                    if v.Name:match("Anti")then price=900 BName="Small Artillery" end
                    if v.Name:match("Machine Gun")then price=600 BName="Light Machinegun" end 

                    --Value Check
                    --print("#####Task 2#####")
                    if price<=fromSuffixString(PlayerMoney.Text) then 
                        if v.Name:match("Anti")or v.Name:match("Machine Gun") or v.Name:match("Infantry") or v.Name:match("Support")or v.Name:match("Armor")then
                            --Getting Data
--[[DATA WAIT]]             repeat Touch(v.Outer)task.wait()until Player.PlayerGui.ChoiceMenu.Enabled==true or not shared.ToggleAS
                            local p=Player.PlayerGui.ChoiceMenu.Frame.Holder
--[[DATA WAIT]]             repeat task.wait()until #p:GetChildren()>3 or not shared.ToggleAS
                            
                            --Finding Button
                            --print("#####Task 3#####")
                            for _,v in pairs(p:GetChildren())do
                                if v:FindFirstChild("Frame") and v.Frame.Namer.Text==BName then
                                    --print("Buying",v)
                                    firesignal(v.Frame.Buy['MouseButton1Down'])firesignal(v.Frame.Buy['MouseButton1Up'])task.wait(0.3)
                                end
                            end
                        end
                    end
                end
            end if Player.PlayerGui:FindFirstChild("CurrencyShop")then Player.PlayerGui.CurrencyShop.Enabled=false end
            task.wait()end)task.wait()if not s then print(e)end
        end
    end)
end)

Auto:Toggle("Auto Upgrade",function(bool)
    shared.ToggleAU=bool
    spawn(function()
        while shared.ToggleAU do local s,e=pcall(function()
            for _,v in pairs(Models:GetChildren())do
                if shared.ToggleAU and v:FindFirstChild("PP") and v:FindFirstChild("Upgrade") and v.Upgrade.Value<3 then
                    
                    --Move Prompt To Play / Remove Collision
                    --print("#####Task 1#####")
                    local TimeOut spawn(function()TimeOut=Timer(10)end) local isDone
                    local back=v.PP.CFrame v.PP.CanCollide=false task.wait()
                    spawn(function()repeat v.PP.CFrame=Player.Character:WaitForChild("HumanoidRootPart").CFrame task.wait()until isDone or not shared.ToggleAU end)

                    --Wait for Prompt / Hide Prompt
                    --print("#####Task 2#####")
--[[DATA WAIT]]     repeat task.wait()until v.PP:FindFirstChild("Prompt") or not shared.ToggleAU or TimeOut print("Passed Data Wait")
                    if v.PP:FindFirstChild("Prompt")then v.PP.Prompt.Enabled=false end if v.PP:FindFirstChild("Range")then v.PP.Range:Destroy()end
                       
                    --Get Data
                    --print("#####Task 3#####")
--[[DATA WAIT]]     repeat task.wait()until Player.PlayerGui:FindFirstChild("UpgradePrompt") or not shared.ToggleAU
                    local Prompt=Player.PlayerGui:FindFirstChild("UpgradePrompt") 
                    repeat task.wait()until Prompt:FindFirstChild("Button") or not shared.ToggleAU
                    local Btn=Prompt:FindFirstChild("Button") local Price=Btn.Texts.Cost.Text
                    
                    --Check Values
                    --print("#####Task 4#####")
                    if Btn and Price and fromSuffixString(Price)<=fromSuffixString(PlayerMoney.Text)then
                        firesignal(Btn['MouseButton1Click'])task.wait()
                    end
                    
                    --Waiting For Reset Values
                    --print("#####Task 5#####")
                    isDone=true
                    repeat v.PP.CFrame=back task.wait() until v.PP.CFrame==back
                    repeat if Player.PlayerGui:FindFirstChild("UpgradePrompt") then Player.PlayerGui:FindFirstChild("UpgradePrompt"):Destroy()end task.wait()until not Player.PlayerGui:FindFirstChild("UpgradePrompt") or shared.ToggleAU task.wait(0.3)
                end
            end task.wait()end)task.wait()if not s then print(e)end
        end
    end)
end)

local Miscload = loadstring(game:HttpGet('https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/Misc.txt'))()
