print("Script Version: 1.0.4")
w = library:CreateWindow("Main")
local Auto = w:CreateFolder("Auto")

local Players=game:GetService("Players")
local Player=game.Players.LocalPlayer

-->Base Variables<--
local Worlds = workspace:WaitForChild("DynamicObjects"):WaitForChild("Worlds")
local effectFrame = Player.PlayerGui:WaitForChild("Effects")
-->Non Return Functions<--

-->Return Functions<--
local function getWorldWin()
    local _currentWorld = Player:GetAttribute("worldName")
    local _world = Worlds:FindFirstChild(_currentWorld)
    if _world then
        local winPart = _world:WaitForChild("WinPortal"):WaitForChild("Touch")
        return winPart
    end
end

local winSpeed = 1000
Auto:Slider("Win Speed (ms)",{
    min = 100; max = 5000; precise = true;
},function(value)
    winSpeed = value
end)


Auto:Toggle("Auto Win",function(bool)
    shared.ToggleAW=bool
    spawn(function()
        while shared.ToggleAW do
            local timeToWait = winSpeed / 1000
            local touchPart = getWorldWin()
            if touchPart then
                local toHide = effectFrame:FindFirstChild("ConfettiFrame")
                if toHide then toHide.Visible = false end
                MoveTo(touchPart)
            end
            
            task.wait(timeToWait)
        end
    end)
end)

local args = {
    [1] = "EggService.open",
    [2] = {
        [1] = {
            ["name"] = "Egg10",
            ["type"] = "Egg"
        }
    }
}


Auto:Toggle("Max Egg",function(bool)
    shared.ToggleME=bool
    spawn(function()
        while shared.ToggleME do
            game:GetService("ReplicatedStorage"):WaitForChild("CommonModules"):WaitForChild("Systems"):WaitForChild("NetworkSystem"):WaitForChild("Network"):WaitForChild("RemoteFunction"):InvokeServer(unpack(args))
            task.wait(1)
        end
    end)
end)