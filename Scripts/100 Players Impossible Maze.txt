local library = loadstring(game:HttpGet(('https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/UILibrary.txt')))()w = library:CreateWindow("Main")
local Essential_Functions = loadstring(game:HttpGet("https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/Essential_Functions.txt"))()


local Players=game:GetService("Players")
local Player=game.Players.LocalPlayer

local Auto = w:CreateFolder("Auto")

-->Base Variables<--
local Mobs = Workspace:FindFirstChild("Mobs")
local Misc = Workspace:FindFirstChild("Misc")

local Spawns = Misc:FindFirstChild("Spawns")
local Givers = Misc:FindFirstChild("Givers")
local Wheel = Givers:FindFirstChild("Wheel")

local teleSelect = "Spawn"
local teleTable = {"Spawn", "1", "2", "3"}
local SortedSpawns = SortTableByDistance(Spawns:GetChildren(), Workspace:FindFirstChildWhichIsA("SpawnLocation"))


-->Non Return Functions<--
local function removePM()
    for _, modifier in pairs(workspace:GetDescendants()) do
        if modifier:IsA("PathfindingModifier") then
            modifier:Destroy()
        end
    end
end removePM()

-->Return Functions<--
local function getStage()
    return GetClosestPart(SortedSpawns)
end

local function getNextStage()
    local curr = GetClosestPart(SortedSpawns)
    return SortedSpawns[GetPositionFromTable(SortedSpawns, curr)+1]
end

local DropList = Auto:Dropdown("Spawn",teleTable,true,function(SItem) --true/false, replaces the current title "Dropdown" with the option that t
    teleSelect = SItem
end)

Auto:Button("Teleport",function()
    spawn(function()
        if teleSelect == "Spawn" then
            MoveTo(Workspace:FindFirstChildWhichIsA("SpawnLocation"), Vector3.new(0,5,0))
        else
            MoveTo(SortedSpawns[tonumber(teleSelect)], Vector3.new(0,5,0))
        end
    end)
end)

Auto:Button("Easy",function(bool)
    shared.ToggleE=bool
    spawn(function()
        local Trap, MoveWall = Misc:FindFirstChild("Trap"), Misc:FindFirstChild("MovingWalls")
        if Trap then Trap:Destroy() end
        if MoveWall then MoveWall:Destroy() end
        for _,v in pairs(Mobs:GetDescendants())do
            if v.Name:lower():match("hitbox") or v:IsA("Script") then
                v:Destroy()
            end
        end
        local healthScript = Player.Character:FindFirstChild("Health")
        if healthScript then healthScript:Destroy() end
    end)
end)

Auto:Button("PathFind",function()
    spawn(function()
        --PathFind(getNextStage())
        print("Testing With:", SortedSpawns[tonumber(teleSelect)], teleSelect)
        PathFind(SortedSpawns[tonumber(teleSelect)])
        --MoveTo(getNextStage())
        --print(getNextStage())
    end)
end)

Auto:Toggle("Show Path",function(bool)
    shared.ToggleSP=bool
    spawn(function()
        ShowPath(SortedSpawns[tonumber(teleSelect)], shared.ToggleSP)
    end)
end)

Auto:Toggle("Auto Spin",function(bool)
    shared.ToggleAS=bool
    spawn(function()
        while shared.ToggleAS do
            fireproximityprompt(Wheel.Wheel.ProximityPrompt) task.wait(1)
            --game:GetService("ReplicatedStorage").Remote.FortuneWheel.RF.give_reward:InvokeServer()
            task.wait(1)
        end
    end)
end)


Auto:Toggle("Collect Coins",function(bool)
    shared.ToggleAC=bool
    spawn(function()
        while shared.ToggleAC do
            for _,v in pairs(Misc.Coins:GetChildren()) do
                local coin = v:FindFirstChild("Coin")
                if coin then Touch(coin, 0.3) end
            end
            task.wait()
        end
    end)
end)

local enemyTbl = {}
Auto:Toggle("Mob ESP",function(bool)
    shared.ToggleME=bool
    spawn(function()
        if shared.ToggleME then
            for _,v in pairs(Mobs:GetChildren()) do
                local hrp = v:FindFirstChild("HumanoidRootPart")
                if hrp then
                    local tag = Tag(hrp, true, v.Name)
                    table.insert(enemyTbl, tag)
                end
            end
        else
            for _,v in pairs(enemyTbl) do
                Tag(v[1], false)
            end
        end
    end)
end)

Auto:Toggle("Auto",function(bool)
    shared.Toggle=bool
    spawn(function()
        while shared.Toggle do
            task.wait()
        end
    end)
end)


local Miscload = loadstring(game:HttpGet('https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/Misc.txt'))()
