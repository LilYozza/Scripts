local library = loadstring(game:HttpGet(('https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/UILibrary.txt')))()w = library:CreateWindow("Main")

local Players=game:GetService("Players")
local Player=game.Players.LocalPlayer

local Auto = w:CreateFolder("Auto")
local P = {}
local Tycoon, NilTycoon, SCollect, Collection1, Collection2
local Tycoons = Workspace:FindFirstChild("Tycoons")
local Blacklist = {"LegendaryGear", "VoidShield"}

for _,v in pairs(game.Players:GetChildren()) do
    table.insert(P, v.Name)
end

local function Touch(p,t)firetouchinterest(Player.Character:WaitForChild("HumanoidRootPart"),p,0)firetouchinterest(Player.Character:WaitForChild("HumanoidRootPart"),p,1)task.wait(t)end
local function GetTycoon()
    for _,v in pairs(Tycoons:GetDescendants()) do
        if v.Name:match("isim") and v.Value == Player.Name then Tycoon = v.Parent end
        if v.Name:match("isim") and not table.find(P, v.Value) then NilTycoon = v.Parent end
    end
    print(NilTycoon)
    if not Tycoon then Tycoon = NilTycoon end
    for _,v in pairs(Tycoon:GetDescendants()) do
        if v:IsA("TouchTransmitter") and v:FindFirstAncestor("Door") then Touch(v.Parent) end
        if v:IsA("TouchTransmitter") and v:FindFirstAncestor("CashRegister") then Collection = v.Parent end
    end
end GetTycoon()

Auto:Toggle("Auto Collect",function(bool)
    shared.toggle1 = bool
    spawn (function()
        while shared.toggle1 do
            if not Tycoon then GetTycoon() end Touch(Collection,1)
        	wait()
        end
    end)
end)

Auto:Toggle("Smart Collect",function(bool)
    shared.toggle2 = bool
    SCollect = shared.toggle2
end)

Auto:Toggle("Auto Buy",function(bool)
    shared.toggle3 = bool
    spawn (function()
        while shared.toggle3 do
            if not Tycoon then GetTycoon() end
            for _,v in pairs(Tycoon:GetDescendants()) do 
                if v:IsA("TouchTransmitter") and v.Parent:FindFirstChild("Cost") and shared.toggle3 then
                    if SCollect and v.Parent:FindFirstChild("Cost").Value <= Player.leaderstats.Cash.Value + Collection.Parent:FindFirstChild("Cash").Value then Touch(Collection,0.3) end
                    if v.Parent:FindFirstChild("Cost").Value <= Player.leaderstats.Cash.Value then Touch(v.Parent,0.3) end
                end
            end
        	wait()
        end
    end)
end)

Auto:Button("Give Items",function() --fix Robux Items
    spawn(function()
        for _,v in pairs(Tycoons:GetDescendants()) do
            if v:IsA("TouchTransmitter") and v.Parent.Parent.Name:match("Gear") and not table.find(Blacklist, v.Parent.Parent.Name) then
                Touch(v.Parent,0.2)
            end
        end
    end)
end)

Auto:Button("Remove OwnerDoors",function()
    spawn(function()
        print("here")
        for _,v in pairs(Tycoons:GetDescendants()) do
            if v.Name == "ActDoor" then v:Destroy() print("Removed") end
        end
    end)
end)

local Miscload = loadstring(game:HttpGet('https://raw.githubusercontent.com/LilYozza/Scripts/main/Misc/Misc.txt'))()
